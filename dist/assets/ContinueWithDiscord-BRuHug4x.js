import{r as c,R as B,j as a}from"./index-ChFwzRQ4.js";import{B as D}from"./button-BroSQgt-.js";function M(o={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:t}=o,[i,r]=c.useState(!1),u=c.useRef(n);u.current=n;const f=c.useRef(t);return f.current=t,c.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=e,l.onload=()=>{var d;r(!0),(d=u.current)===null||d===void 0||d.call(u)},l.onerror=()=>{var d;r(!1),(d=f.current)===null||d===void 0||d.call(f)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[e]),i}const N=c.createContext(null);function O({clientId:o,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:t,children:i}){const r=M({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:t}),u=c.useMemo(()=>({clientId:o,scriptLoadedSuccessfully:r}),[o,r]);return B.createElement(N.Provider,{value:u},i)}function H(){const o=c.useContext(N);if(!o)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return o}function F(o){var e;return(e=o==null?void 0:o.clientId)!==null&&e!==void 0?e:o==null?void 0:o.client_id}const J={large:40,medium:32,small:20};function T({onSuccess:o,onError:e,useOneTap:n,promptMomentNotification:t,type:i="standard",theme:r="outline",size:u="large",text:f,shape:l,logo_alignment:d,width:j,locale:L,click_listener:R,containerProps:h,...U}){const k=c.useRef(null),{clientId:G,scriptLoadedSuccessfully:q}=H(),A=c.useRef(o);A.current=o;const m=c.useRef(e);m.current=e;const $=c.useRef(t);return $.current=t,c.useEffect(()=>{var p,x,b,C,_,S,y,E,I;if(q)return(b=(x=(p=window==null?void 0:window.google)===null||p===void 0?void 0:p.accounts)===null||x===void 0?void 0:x.id)===null||b===void 0||b.initialize({client_id:G,callback:s=>{var v;if(!(s!=null&&s.credential))return(v=m.current)===null||v===void 0?void 0:v.call(m);const{credential:g,select_by:W}=s;A.current({credential:g,clientId:F(s),select_by:W})},...U}),(S=(_=(C=window==null?void 0:window.google)===null||C===void 0?void 0:C.accounts)===null||_===void 0?void 0:_.id)===null||S===void 0||S.renderButton(k.current,{type:i,theme:r,size:u,text:f,shape:l,logo_alignment:d,width:j,locale:L,click_listener:R}),n&&((I=(E=(y=window==null?void 0:window.google)===null||y===void 0?void 0:y.accounts)===null||E===void 0?void 0:E.id)===null||I===void 0||I.prompt($.current)),()=>{var s,v,g;n&&((g=(v=(s=window==null?void 0:window.google)===null||s===void 0?void 0:s.accounts)===null||v===void 0?void 0:v.id)===null||g===void 0||g.cancel())}},[G,q,n,i,r,u,f,l,d,j,L]),B.createElement("div",{...h,ref:k,style:{height:J[u],...h==null?void 0:h.style}})}class w extends Error{}w.prototype.name="InvalidTokenError";function V(o){return decodeURIComponent(atob(o).replace(/(.)/g,(e,n)=>{let t=n.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}function z(o){let e=o.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return V(e)}catch{return atob(e)}}function K(o,e){if(typeof o!="string")throw new w("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,t=o.split(".")[n];if(typeof t!="string")throw new w(`Invalid token specified: missing part #${n+1}`);let i;try{i=z(t)}catch(r){throw new w(`Invalid token specified: invalid base64 for part #${n+1} (${r.message})`)}try{return JSON.parse(i)}catch(r){throw new w(`Invalid token specified: invalid json for part #${n+1} (${r.message})`)}}const P=()=>{const o=c.useRef(null),e=t=>{console.log("Credential Response:",t);const i=t==null?void 0:t.credential,r=K(i);console.log("User Info:",r)},n=()=>{console.log("Login Failed")};return a.jsxs(O,{clientId:"766196043344-i0mbl5i8tgfae3il2qfp3p1ehsgk8q9n.apps.googleusercontent.com",children:[a.jsx("div",{className:"hidden",ref:o,children:a.jsx(T,{onSuccess:e,onError:n})}),a.jsxs(D,{variant:"outline",type:"button",className:"w-full cursor-pointer",onClick:()=>{var i;const t=(i=o.current)==null?void 0:i.querySelectorAll("div");t==null||t.forEach(r=>{r.role=="button"&&r.click()})},children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z",fill:"currentColor"})}),"Login with Google"]})]})},Z=c.memo(P),Q=()=>a.jsxs(D,{variant:"outline",className:"w-full cursor-pointer",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",className:"scale-125",children:a.jsx("path",{d:"M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"})}),"Login With Discord"]}),oo=c.memo(Q);export{oo as C,Z as a};

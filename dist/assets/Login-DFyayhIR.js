import{r as i,R as D,j as e,L as z}from"./index-BgMoaJc6.js";import{B as E}from"./button-B9pmuLMT.js";import{L as $,I as R}from"./label-D1KPzgzs.js";function F(o={}){const{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:n}=o,[c,l]=i.useState(!1),d=i.useRef(r);d.current=r;const m=i.useRef(n);return m.current=n,i.useEffect(()=>{const s=document.createElement("script");return s.src="https://accounts.google.com/gsi/client",s.async=!0,s.defer=!0,s.nonce=t,s.onload=()=>{var a;l(!0),(a=d.current)===null||a===void 0||a.call(d)},s.onerror=()=>{var a;l(!1),(a=m.current)===null||a===void 0||a.call(m)},document.body.appendChild(s),()=>{document.body.removeChild(s)}},[t]),c}const O=i.createContext(null);function P({clientId:o,nonce:t,onScriptLoadSuccess:r,onScriptLoadError:n,children:c}){const l=F({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:n}),d=i.useMemo(()=>({clientId:o,scriptLoadedSuccessfully:l}),[o,l]);return D.createElement(O.Provider,{value:d},c)}function H(){const o=i.useContext(O);if(!o)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return o}function T(o){var t;return(t=o==null?void 0:o.clientId)!==null&&t!==void 0?t:o==null?void 0:o.client_id}const J={large:40,medium:32,small:20};function V({onSuccess:o,onError:t,useOneTap:r,promptMomentNotification:n,type:c="standard",theme:l="outline",size:d="large",text:m,shape:s,logo_alignment:a,width:C,locale:I,click_listener:U,containerProps:h,...M}){const k=i.useRef(null),{clientId:G,scriptLoadedSuccessfully:q}=H(),A=i.useRef(o);A.current=o;const x=i.useRef(t);x.current=t;const B=i.useRef(n);return B.current=n,i.useEffect(()=>{var p,w,j,b,y,N,L,_,S;if(q)return(j=(w=(p=window==null?void 0:window.google)===null||p===void 0?void 0:p.accounts)===null||w===void 0?void 0:w.id)===null||j===void 0||j.initialize({client_id:G,callback:u=>{var f;if(!(u!=null&&u.credential))return(f=x.current)===null||f===void 0?void 0:f.call(x);const{credential:v,select_by:W}=u;A.current({credential:v,clientId:T(u),select_by:W})},...M}),(N=(y=(b=window==null?void 0:window.google)===null||b===void 0?void 0:b.accounts)===null||y===void 0?void 0:y.id)===null||N===void 0||N.renderButton(k.current,{type:c,theme:l,size:d,text:m,shape:s,logo_alignment:a,width:C,locale:I,click_listener:U}),r&&((S=(_=(L=window==null?void 0:window.google)===null||L===void 0?void 0:L.accounts)===null||_===void 0?void 0:_.id)===null||S===void 0||S.prompt(B.current)),()=>{var u,f,v;r&&((v=(f=(u=window==null?void 0:window.google)===null||u===void 0?void 0:u.accounts)===null||f===void 0?void 0:f.id)===null||v===void 0||v.cancel())}},[G,q,r,c,l,d,m,s,a,C,I]),D.createElement("div",{...h,ref:k,style:{height:J[d],...h==null?void 0:h.style}})}class g extends Error{}g.prototype.name="InvalidTokenError";function K(o){return decodeURIComponent(atob(o).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Q(o){let t=o.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return K(t)}catch{return atob(t)}}function X(o,t){if(typeof o!="string")throw new g("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=o.split(".")[r];if(typeof n!="string")throw new g(`Invalid token specified: missing part #${r+1}`);let c;try{c=Q(n)}catch(l){throw new g(`Invalid token specified: invalid base64 for part #${r+1} (${l.message})`)}try{return JSON.parse(c)}catch(l){throw new g(`Invalid token specified: invalid json for part #${r+1} (${l.message})`)}}const Y=()=>{const o=i.useRef(null),t=n=>{console.log("Credential Response:",n);const c=n==null?void 0:n.credential,l=X(c);console.log("User Info:",l)},r=()=>{console.log("Login Failed")};return e.jsxs(P,{clientId:"766196043344-i0mbl5i8tgfae3il2qfp3p1ehsgk8q9n.apps.googleusercontent.com",children:[e.jsx("div",{className:"hidden",ref:o,children:e.jsx(V,{onSuccess:t,onError:r})}),e.jsxs(E,{variant:"outline",type:"button",className:"w-full",onClick:()=>{var c;const n=(c=o.current)==null?void 0:c.querySelectorAll("div");n==null||n.forEach(l=>{l.role=="button"&&l.click()})},children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z",fill:"currentColor"})}),"Login with Google"]})]})},Z=i.memo(Y);function ee(){return e.jsx("div",{className:"flex min-h-svh flex-col items-center justify-center gap-6 bg-background p-6 md:p-10",children:e.jsx("div",{className:"w-full max-w-[420px]",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("form",{children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 font-medium",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md",children:e.jsx("img",{src:"/logo.png",width:40,height:40,className:"size-10"})}),e.jsx("span",{className:"sr-only"})]}),e.jsx("h1",{className:"text-xl font-bold",children:"Welcome to Astra Labs"}),e.jsx("div",{className:"text-center text-sm",children:"Login to your Astra Labs account to continue"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx($,{htmlFor:"email",children:"Email"}),e.jsx(R,{id:"email",type:"email",placeholder:"m@example.com",required:!0})]}),e.jsxs("div",{className:"grid gap-2 mb-3",children:[e.jsx($,{htmlFor:"password",children:"Password"}),e.jsx(R,{id:"password",type:"password",placeholder:"Enter password",required:!0})]}),e.jsx(E,{type:"submit",variant:"secondary",className:"w-full",children:"Login"})]}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 px-2 text-muted-foreground bg-[#272322]",children:"OR"})}),e.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[e.jsxs(E,{variant:"outline",className:"w-full",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",className:"scale-125",children:e.jsx("path",{d:"M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"})}),"Login With Discord"]}),e.jsx(Z,{})]})]})}),e.jsxs("div",{className:"text-center text-sm mt-6 mb-1",children:["Don't have an account?"," ",e.jsx(z,{to:"/sign-up",className:"underline underline-offset-4 ml-2 border-none outline-none",children:"Sign up"})]}),e.jsxs("div",{className:"max-w-sm mx-auto text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary",children:["By clicking continue, you agree to our ",e.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",e.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})})})}const re=i.memo(ee);export{re as default};

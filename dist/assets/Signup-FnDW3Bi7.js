import{r as v,c as N,j as e,L as b}from"./index-CFFUfh0C.js";import{B as g}from"./button-B9BAtukY.js";import{L as i,I as o}from"./label-CuuTb9r_.js";import{u as y,C as m,F as n,a as w,b as C,s as S,S as F}from"./FormFieldError-BOpQ_sFT.js";import{u as E,R as L}from"./refresh-ccw-sHEB_vh7.js";import{S as A}from"./AxiosCalls-GSK0K1sH.js";import"./index-Bmg67rh0.js";import"./utils-DCjegGDd.js";import"./index-L8d6qaRj.js";import"./createLucideIcon-hG1hW0R9.js";function P(){var c,d,x,u;const p=N(),{control:l,formState:{errors:s},handleSubmit:h}=y({defaultValues:{username:"",email:"",password:""},resolver:S(F)}),{mutate:f,isPending:t}=E({mutationKey:["Signup"],mutationFn:A,onError:a=>{console.log("signup error: ",a)},onSuccess:()=>{p("/login",{replace:!0})}}),j=a=>{t||f(a)};return e.jsx("main",{className:"flex min-h-svh flex-col items-center justify-center gap-6 bg-background p-6 md:p-10",children:e.jsx("div",{className:"w-full max-w-[420px]",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("form",{onSubmit:h(j),children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 font-medium",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-md",children:e.jsx("img",{src:"/logo.png",width:80,height:80,className:"size-20"})}),e.jsx("span",{className:"sr-only"})]}),e.jsx("h1",{className:"text-xl font-bold",children:"Welcome to Astra Labs"}),e.jsx("div",{className:"text-center text-sm max-w-[80%]",children:"Create an Account"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"username",children:"User Name"}),e.jsx(m,{control:l,name:"username",render:({field:a})=>e.jsx(o,{id:"username",type:"text",placeholder:"Enter User Name",required:!0,disabled:t,value:a.value,onChange:r=>a.onChange(typeof r=="string"?r:r.target.value)})}),e.jsx(n,{message:(c=s==null?void 0:s.username)==null?void 0:c.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-2 mb-2",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(m,{control:l,name:"email",render:({field:a})=>e.jsx(o,{id:"email",type:"email",placeholder:"m@example.com",required:!0,disabled:t,value:a.value,onChange:r=>a.onChange(typeof r=="string"?r:r.target.value)})}),e.jsx(n,{message:(d=s==null?void 0:s.email)==null?void 0:d.message})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"password",children:"Password"}),e.jsx(m,{control:l,name:"password",render:({field:a})=>e.jsx(o,{id:"password",type:"password",placeholder:"Enter password",required:!0,disabled:t,value:a.value,onChange:r=>a.onChange(typeof r=="string"?r:r.target.value)})}),e.jsx(n,{message:(x=s==null?void 0:s.password)==null?void 0:x.message,className:"pl-1.5"})]})]}),e.jsx(n,{message:(u=s==null?void 0:s.root)==null?void 0:u.message,className:"leading-2"}),t?e.jsxs(g,{type:"button",variant:"secondary",disabled:!0,className:"w-full cursor-pointer",children:["Creating ",e.jsx(L,{className:"animate-spin duration-150"})]}):e.jsx(g,{type:"submit",variant:"secondary",className:"w-full cursor-pointer",children:"Create Account"})]}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 px-2 text-muted-foreground bg-[#272322]",children:"OR"})}),e.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[e.jsx(w,{}),e.jsx(C,{})]})]})}),e.jsxs("div",{className:"text-center text-sm mt-6 mb-1",children:["Already have an account ?"," ",e.jsx(b,{to:"/login",className:"underline underline-offset-4 ml-2 border-none outline-none",children:"Login"})]}),e.jsxs("div",{className:"max-w-sm mx-auto text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary",children:["By clicking continue, you agree to our ",e.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",e.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})})})}const G=v.memo(P);export{G as default};

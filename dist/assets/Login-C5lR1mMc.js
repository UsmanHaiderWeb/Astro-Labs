const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-Cv_ubVkP.js","assets/index-BrY5Y4zO.js","assets/index-Bsizm__Y.css","assets/utils-DCjegGDd.js","assets/index-ZVgbZyB4.js","assets/index-Cucgkp6x.js","assets/index-B_7BixeP.js","assets/index-Pv7ZGe1q.js","assets/createLucideIcon-ZGVpIvHZ.js","assets/index-CWi06KAc.js","assets/mail-DPBdz6SB.js","assets/button-BqYoL18T.js","assets/x-CnuQhpsg.js","assets/useQuery-B17VCjEj.js","assets/AxiosCalls-xZ3s-Ai1.js","assets/HomePage-DzaOINBf.js"])))=>i.map(i=>d[i]);
import{r as h,d as y,_ as x,j as e,L}from"./index-BrY5Y4zO.js";import{B as u}from"./button-BqYoL18T.js";import{L as g,I as p}from"./label-BjJyxBTO.js";import{u as _,C as f,F as i,a as E,b as C,s as F,L as P}from"./FormFieldError-CkCzc_ry.js";import{L as S}from"./AxiosCalls-xZ3s-Ai1.js";import{u as k,R}from"./refresh-ccw-DMlsiFZM.js";import{s as T}from"./utils-DCjegGDd.js";import"./index-Cucgkp6x.js";import"./index-B_7BixeP.js";import"./createLucideIcon-ZGVpIvHZ.js";function A(){var l,c;const j=y();h.useEffect(()=>{x(()=>import("./App-Cv_ubVkP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),x(()=>import("./HomePage-DzaOINBf.js"),__vite__mapDeps([15,1,2,11,5,3]))},[]);const{control:n,formState:{errors:s},handleSubmit:v,setError:N}=_({defaultValues:{email:"",password:""},resolver:F(P)}),{mutate:b,isPending:r}=k({mutationKey:["Login"],mutationFn:S,onError:a=>{N("root",{message:"Email or password is invalid."}),console.log("signup error: ",a)},onSuccess:a=>{T(a.access_token),j("/",{replace:!0})}}),w=a=>{r||b(a)};return e.jsx("main",{className:"flex min-h-svh flex-col items-center justify-center gap-6 bg-background p-6 md:p-10",children:e.jsx("div",{className:"w-full max-w-[420px]",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("form",{onSubmit:v(w),children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 font-medium",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-md",children:e.jsx("img",{src:"/logo.png",width:80,height:80,className:"size-20"})}),e.jsx("span",{className:"sr-only"})]}),e.jsx("h1",{className:"text-[18px] font-bold",children:"Welcome Back to Astra Labs"}),e.jsx("div",{className:"text-center text-sm",children:"Log in to your account"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(g,{htmlFor:"email",children:"Email"}),e.jsx(f,{control:n,name:"email",render:({field:a})=>e.jsx(p,{id:"email",type:"email",placeholder:"m@example.com",required:!0,disabled:r,value:a.value,onChange:t=>a.onChange(typeof t=="string"?t:t.target.value)})}),e.jsx(i,{message:(l=s==null?void 0:s.email)==null?void 0:l.message})]}),e.jsxs("div",{className:"grid gap-2 mb-0",children:[e.jsx(g,{htmlFor:"password",children:"Password"}),e.jsx(f,{control:n,name:"password",render:({field:a})=>{var t,m,d;return e.jsxs(e.Fragment,{children:[e.jsx(p,{id:"password",type:"password",placeholder:"Enter password",required:!0,disabled:r,value:a.value,onChange:o=>a.onChange(typeof o=="string"?o:o.target.value)}),((t=s==null?void 0:s.password)==null?void 0:t.message)&&e.jsx(i,{message:((m=a.value)==null?void 0:m.length)==0?(d=s==null?void 0:s.password)==null?void 0:d.message:"Password is incorrect."})]})}})]}),e.jsx(i,{message:((c=s==null?void 0:s.root)==null?void 0:c.message)||" "}),r?e.jsxs(u,{type:"button",variant:"secondary",disabled:!0,className:"w-full cursor-pointer",children:["Logging ",e.jsx(R,{className:"animate-spin duration-300"})]}):e.jsx(u,{type:"submit",variant:"secondary",className:"w-full cursor-pointer",children:"Login"})]}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 px-2 text-muted-foreground bg-[#272322]",children:"OR"})}),e.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[e.jsx(E,{}),e.jsx(C,{})]})]})}),e.jsxs("div",{className:"text-center text-sm mt-6 mb-1",children:["Don't have an account?"," ",e.jsx(L,{to:"/sign-up",className:"underline underline-offset-4 ml-2 border-none outline-none",children:"Sign up"})]}),e.jsxs("div",{className:"max-w-sm mx-auto text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary",children:["By clicking continue, you agree to our ",e.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",e.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})})})}const M=h.memo(A);export{M as default};

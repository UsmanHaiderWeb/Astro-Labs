import{c as He,r as s,u as Ht,a as De,j as i,b as Ue,d as pe,P as q,e as Hn,R as Qr,I as Jr,f as z,g as Ae,h as J,i as Un,k as te,l as rt,m as es,$ as ts,n as lt,o as ns,p as os,_ as rs,q as ss,s as je,z as as,t as is,v as ls,w as cs,x as us,y as ds,A as ct,C as Ut,D as Kt,S as Yt,E as qt,F as Xt,G as Gt,H as fs,X as hs,J as ut,K as Kn,M as Zt,N as Yn,O as qn,B as ye,Q as Xn,T as Gn,U as Zn,V as ps,W as ms,Y as me,Z as vs,a0 as gs,a1 as xs,a2 as bs,a3 as ys,a4 as ws,a5 as Cs,a6 as Ss,a7 as yn,a8 as Es}from"./index-s6iqp-WZ.js";import{L as se,I as Ns}from"./label-CgQsWg1V.js";import{u as Qn}from"./index-sGvzr-Pw.js";import{C as Qt}from"./check-mw0PiGNb.js";import{R as Ps,u as Rs}from"./refresh-ccw-nmAzsWVP.js";import{C as Jn}from"./chevron-down-HbQrzwLY.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],js=He("ChevronUp",$s);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],_s=He("Download",Ts);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wn=He("RotateCcw",Ds);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Is=He("Search",ks);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],As=He("Upload",Ms);var Jt="Tabs",[Os,Wc]=Ue(Jt,[Hn]),eo=Hn(),[Ls,en]=Os(Jt),to=s.forwardRef((n,e)=>{const{__scopeTabs:t,value:o,onValueChange:r,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:u="automatic",...d}=n,h=Ht(c),[f,v]=De({prop:o,onChange:r,defaultProp:a});return i.jsx(Ls,{scope:t,baseId:pe(),value:f,onValueChange:v,orientation:l,dir:h,activationMode:u,children:i.jsx(q.div,{dir:h,"data-orientation":l,...d,ref:e})})});to.displayName=Jt;var no="TabsList",oo=s.forwardRef((n,e)=>{const{__scopeTabs:t,loop:o=!0,...r}=n,a=en(no,t),l=eo(t);return i.jsx(Qr,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:o,children:i.jsx(q.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:e})})});oo.displayName=no;var ro="TabsTrigger",so=s.forwardRef((n,e)=>{const{__scopeTabs:t,value:o,disabled:r=!1,...a}=n,l=en(ro,t),c=eo(t),u=io(l.baseId,o),d=lo(l.baseId,o),h=o===l.value;return i.jsx(Jr,{asChild:!0,...c,focusable:!r,active:h,children:i.jsx(q.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...a,ref:e,onMouseDown:z(n.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?l.onValueChange(o):f.preventDefault()}),onKeyDown:z(n.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(o)}),onFocus:z(n.onFocus,()=>{const f=l.activationMode!=="manual";!h&&!r&&f&&l.onValueChange(o)})})})});so.displayName=ro;var ao="TabsContent",Fs=s.forwardRef((n,e)=>{const{__scopeTabs:t,value:o,forceMount:r,children:a,...l}=n,c=en(ao,t),u=io(c.baseId,o),d=lo(c.baseId,o),h=o===c.value,f=s.useRef(h);return s.useEffect(()=>{const v=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(v)},[]),i.jsx(Ae,{present:r||h,children:({present:v})=>i.jsx(q.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:d,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:f.current?"0s":void 0},children:v&&a})})});Fs.displayName=ao;function io(n,e){return`${n}-trigger-${e}`}function lo(n,e){return`${n}-content-${e}`}var Bs=to,Vs=oo,Ws=so;function zs({className:n,...e}){return i.jsx(Bs,{"data-slot":"tabs",className:J("flex flex-col gap-2",n),...e})}function Hs({className:n,...e}){return i.jsx(Vs,{"data-slot":"tabs-list",className:J("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",n),...e})}function Cn({className:n,...e}){return i.jsx(Ws,{"data-slot":"tabs-trigger",className:J("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}var co=["PageUp","PageDown"],uo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fo={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Oe="Slider",[jt,Us,Ks]=Un(Oe),[ho,zc]=Ue(Oe,[Ks]),[Ys,dt]=ho(Oe),po=s.forwardRef((n,e)=>{const{name:t,min:o=0,max:r=100,step:a=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:d=[o],value:h,onValueChange:f=()=>{},onValueCommit:v=()=>{},inverted:m=!1,form:b,...p}=n,g=s.useRef(new Set),y=s.useRef(0),C=l==="horizontal"?qs:Xs,[$=[],P]=De({prop:h,defaultProp:d,onChange:O=>{var X;(X=[...g.current][y.current])==null||X.focus(),f(O)}}),N=s.useRef($);function _(O){const U=ea($,O);H(O,U)}function T(O){H(O,y.current)}function V(){const O=N.current[y.current];$[y.current]!==O&&v($)}function H(O,U,{commit:X}={commit:!1}){const Y=ra(a),Q=sa(Math.round((O-o)/a)*a+o,Y),K=rt(Q,[o,r]);P((G=[])=>{const Z=Qs(G,K,U);if(oa(Z,u*a)){y.current=Z.indexOf(K);const j=String(Z)!==String(G);return j&&X&&v(Z),j?Z:G}else return G})}return i.jsx(Ys,{scope:n.__scopeSlider,name:t,disabled:c,min:o,max:r,valueIndexToChangeRef:y,thumbs:g.current,values:$,orientation:l,form:b,children:i.jsx(jt.Provider,{scope:n.__scopeSlider,children:i.jsx(jt.Slot,{scope:n.__scopeSlider,children:i.jsx(C,{"aria-disabled":c,"data-disabled":c?"":void 0,...p,ref:e,onPointerDown:z(p.onPointerDown,()=>{c||(N.current=$)}),min:o,max:r,inverted:m,onSlideStart:c?void 0:_,onSlideMove:c?void 0:T,onSlideEnd:c?void 0:V,onHomeKeyDown:()=>!c&&H(o,0,{commit:!0}),onEndKeyDown:()=>!c&&H(r,$.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:U})=>{if(!c){const Q=co.includes(O.key)||O.shiftKey&&uo.includes(O.key)?10:1,K=y.current,G=$[K],Z=a*Q*U;H(G+Z,K,{commit:!0})}}})})})})});po.displayName=Oe;var[mo,vo]=ho(Oe,{startEdge:"left",endEdge:"right",size:"width",direction:1}),qs=s.forwardRef((n,e)=>{const{min:t,max:o,dir:r,inverted:a,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:d,...h}=n,[f,v]=s.useState(null),m=te(e,C=>v(C)),b=s.useRef(void 0),p=Ht(r),g=p==="ltr",y=g&&!a||!g&&a;function w(C){const $=b.current||f.getBoundingClientRect(),P=[0,$.width],_=tn(P,y?[t,o]:[o,t]);return b.current=$,_(C-$.left)}return i.jsx(mo,{scope:n.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:i.jsx(go,{dir:p,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:C=>{const $=w(C.clientX);l==null||l($)},onSlideMove:C=>{const $=w(C.clientX);c==null||c($)},onSlideEnd:()=>{b.current=void 0,u==null||u()},onStepKeyDown:C=>{const P=fo[y?"from-left":"from-right"].includes(C.key);d==null||d({event:C,direction:P?-1:1})}})})}),Xs=s.forwardRef((n,e)=>{const{min:t,max:o,inverted:r,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=n,h=s.useRef(null),f=te(e,h),v=s.useRef(void 0),m=!r;function b(p){const g=v.current||h.current.getBoundingClientRect(),y=[0,g.height],C=tn(y,m?[o,t]:[t,o]);return v.current=g,C(p-g.top)}return i.jsx(mo,{scope:n.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:i.jsx(go,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const g=b(p.clientY);a==null||a(g)},onSlideMove:p=>{const g=b(p.clientY);l==null||l(g)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:p=>{const y=fo[m?"from-bottom":"from-top"].includes(p.key);u==null||u({event:p,direction:y?-1:1})}})})}),go=s.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:o,onSlideMove:r,onSlideEnd:a,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u,...d}=n,h=dt(Oe,t);return i.jsx(q.span,{...d,ref:e,onKeyDown:z(n.onKeyDown,f=>{f.key==="Home"?(l(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):co.concat(uo).includes(f.key)&&(u(f),f.preventDefault())}),onPointerDown:z(n.onPointerDown,f=>{const v=f.target;v.setPointerCapture(f.pointerId),f.preventDefault(),h.thumbs.has(v)?v.focus():o(f)}),onPointerMove:z(n.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&r(f)}),onPointerUp:z(n.onPointerUp,f=>{const v=f.target;v.hasPointerCapture(f.pointerId)&&(v.releasePointerCapture(f.pointerId),a(f))})})}),xo="SliderTrack",bo=s.forwardRef((n,e)=>{const{__scopeSlider:t,...o}=n,r=dt(xo,t);return i.jsx(q.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...o,ref:e})});bo.displayName=xo;var Tt="SliderRange",yo=s.forwardRef((n,e)=>{const{__scopeSlider:t,...o}=n,r=dt(Tt,t),a=vo(Tt,t),l=s.useRef(null),c=te(e,l),u=r.values.length,d=r.values.map(v=>Co(v,r.min,r.max)),h=u>1?Math.min(...d):0,f=100-Math.max(...d);return i.jsx(q.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...o,ref:c,style:{...n.style,[a.startEdge]:h+"%",[a.endEdge]:f+"%"}})});yo.displayName=Tt;var _t="SliderThumb",wo=s.forwardRef((n,e)=>{const t=Us(n.__scopeSlider),[o,r]=s.useState(null),a=te(e,c=>r(c)),l=s.useMemo(()=>o?t().findIndex(c=>c.ref.current===o):-1,[t,o]);return i.jsx(Gs,{...n,ref:a,index:l})}),Gs=s.forwardRef((n,e)=>{const{__scopeSlider:t,index:o,name:r,...a}=n,l=dt(_t,t),c=vo(_t,t),[u,d]=s.useState(null),h=te(e,w=>d(w)),f=u?l.form||!!u.closest("form"):!0,v=es(u),m=l.values[o],b=m===void 0?0:Co(m,l.min,l.max),p=Js(o,l.values.length),g=v==null?void 0:v[c.size],y=g?ta(g,b,c.direction):0;return s.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${y}px)`},children:[i.jsx(jt.ItemSlot,{scope:n.__scopeSlider,children:i.jsx(q.span,{role:"slider","aria-label":n["aria-label"]||p,"aria-valuemin":l.min,"aria-valuenow":m,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...a,ref:h,style:m===void 0?{display:"none"}:n.style,onFocus:z(n.onFocus,()=>{l.valueIndexToChangeRef.current=o})})}),f&&i.jsx(Zs,{name:r??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:m},o)]})});wo.displayName=_t;var Zs=n=>{const{value:e,...t}=n,o=s.useRef(null),r=Qn(e);return s.useEffect(()=>{const a=o.current,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(r!==e&&u){const d=new Event("input",{bubbles:!0});u.call(a,e),a.dispatchEvent(d)}},[r,e]),i.jsx("input",{style:{display:"none"},...t,ref:o,defaultValue:e})};function Qs(n=[],e,t){const o=[...n];return o[t]=e,o.sort((r,a)=>r-a)}function Co(n,e,t){const a=100/(t-e)*(n-e);return rt(a,[0,100])}function Js(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function ea(n,e){if(n.length===1)return 0;const t=n.map(r=>Math.abs(r-e)),o=Math.min(...t);return t.indexOf(o)}function ta(n,e,t){const o=n/2,a=tn([0,50],[0,o]);return(o-a(e)*t)*t}function na(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function oa(n,e){if(e>0){const t=na(n);return Math.min(...t)>=e}return!0}function tn(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const o=(e[1]-e[0])/(n[1]-n[0]);return e[0]+o*(t-n[0])}}function ra(n){return(String(n).split(".")[1]||"").length}function sa(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var So=po,aa=bo,ia=yo,la=wo;const ie=s.forwardRef(({className:n,...e},t)=>i.jsxs(So,{ref:t,className:J("relative flex w-full touch-none select-none items-center",n),...e,children:[i.jsx(aa,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary/40 cursor-pointer",children:i.jsx(ia,{className:"absolute h-full cursor-pointer bg-secondary/70"})}),i.jsx(la,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-secondary ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-grab"})]}));ie.displayName=So.displayName;var Sn=1,ca=.9,ua=.8,da=.17,bt=.1,yt=.999,fa=.9999,ha=.99,pa=/[\\\/_+.#"@\[\(\{&]/,ma=/[\\\/_+.#"@\[\(\{&]/g,va=/[\s-]/,Eo=/[\s-]/g;function Dt(n,e,t,o,r,a,l){if(a===e.length)return r===n.length?Sn:ha;var c=`${r},${a}`;if(l[c]!==void 0)return l[c];for(var u=o.charAt(a),d=t.indexOf(u,r),h=0,f,v,m,b;d>=0;)f=Dt(n,e,t,o,d+1,a+1,l),f>h&&(d===r?f*=Sn:pa.test(n.charAt(d-1))?(f*=ua,m=n.slice(r,d-1).match(ma),m&&r>0&&(f*=Math.pow(yt,m.length))):va.test(n.charAt(d-1))?(f*=ca,b=n.slice(r,d-1).match(Eo),b&&r>0&&(f*=Math.pow(yt,b.length))):(f*=da,r>0&&(f*=Math.pow(yt,d-r))),n.charAt(d)!==e.charAt(a)&&(f*=fa)),(f<bt&&t.charAt(d-1)===o.charAt(a+1)||o.charAt(a+1)===o.charAt(a)&&t.charAt(d-1)!==o.charAt(a))&&(v=Dt(n,e,t,o,d+1,a+2,l),v*bt>f&&(f=v*bt)),f>h&&(h=f),d=t.indexOf(u,d+1);return l[c]=h,h}function En(n){return n.toLowerCase().replace(Eo," ")}function ga(n,e,t){return n=t&&t.length>0?`${n+" "+t.join(" ")}`:n,Dt(n,e,En(n),En(e),0,0,{})}function re(){return re=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)({}).hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},re.apply(null,arguments)}function _e(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n==null||n(r),t===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function xa(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function No(...n){return e=>n.forEach(t=>xa(t,e))}function Ke(...n){return s.useCallback(No(...n),n)}function ba(n,e){const t=s.createContext(e);function o(a){const{children:l,...c}=a,u=s.useMemo(()=>c,Object.values(c));return s.createElement(t.Provider,{value:u},l)}function r(a){const l=s.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return o.displayName=n+"Provider",[o,r]}function ya(n,e=[]){let t=[];function o(a,l){const c=s.createContext(l),u=t.length;t=[...t,l];function d(f){const{scope:v,children:m,...b}=f,p=(v==null?void 0:v[n][u])||c,g=s.useMemo(()=>b,Object.values(b));return s.createElement(p.Provider,{value:g},m)}function h(f,v){const m=(v==null?void 0:v[n][u])||c,b=s.useContext(m);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,h]}const r=()=>{const a=t.map(l=>s.createContext(l));return function(c){const u=(c==null?void 0:c[n])||a;return s.useMemo(()=>({[`__scope${n}`]:{...c,[n]:u}}),[c,u])}};return r.scopeName=n,[o,wa(r,...e)]}function wa(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const o=n.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const l=o.reduce((c,{useScope:u,scopeName:d})=>{const f=u(a)[`__scope${d}`];return{...c,...f}},{});return s.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}const Ca=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},Sa=ts.useId||(()=>{});let Ea=0;function wt(n){const[e,t]=s.useState(Sa());return Ca(()=>{t(o=>o??String(Ea++))},[n]),n||(e?`radix-${e}`:"")}function Po(n){const e=s.useRef(n);return s.useEffect(()=>{e.current=n}),s.useMemo(()=>(...t)=>{var o;return(o=e.current)===null||o===void 0?void 0:o.call(e,...t)},[])}function Na({prop:n,defaultProp:e,onChange:t=()=>{}}){const[o,r]=Pa({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:o,c=Po(t),u=s.useCallback(d=>{if(a){const f=typeof d=="function"?d(n):d;f!==n&&c(f)}else r(d)},[a,n,r,c]);return[l,u]}function Pa({defaultProp:n,onChange:e}){const t=s.useState(n),[o]=t,r=s.useRef(o),a=Po(e);return s.useEffect(()=>{r.current!==o&&(a(o),r.current=o)},[o,r,a]),t}function Ra(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function $a(...n){return e=>n.forEach(t=>Ra(t,e))}const Ro=s.forwardRef((n,e)=>{const{children:t,...o}=n,r=s.Children.toArray(t),a=r.find(Ta);if(a){const l=a.props.children,c=r.map(u=>u===a?s.Children.count(l)>1?s.Children.only(null):s.isValidElement(l)?l.props.children:null:u);return s.createElement(kt,re({},o,{ref:e}),s.isValidElement(l)?s.cloneElement(l,void 0,c):null)}return s.createElement(kt,re({},o,{ref:e}),t)});Ro.displayName="Slot";const kt=s.forwardRef((n,e)=>{const{children:t,...o}=n;return s.isValidElement(t)?s.cloneElement(t,{..._a(o,t.props),ref:e?$a(e,t.ref):t.ref}):s.Children.count(t)>1?s.Children.only(null):null});kt.displayName="SlotClone";const ja=({children:n})=>s.createElement(s.Fragment,null,n);function Ta(n){return s.isValidElement(n)&&n.type===ja}function _a(n,e){const t={...e};for(const o in e){const r=n[o],a=e[o];/^on[A-Z]/.test(o)?r&&a?t[o]=(...c)=>{a(...c),r(...c)}:r&&(t[o]=r):o==="style"?t[o]={...r,...a}:o==="className"&&(t[o]=[r,a].filter(Boolean).join(" "))}return{...n,...t}}const Da=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],le=Da.reduce((n,e)=>{const t=s.forwardRef((o,r)=>{const{asChild:a,...l}=o,c=a?Ro:e;return s.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),s.createElement(c,re({},l,{ref:r}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function ka(n,e){n&&lt.flushSync(()=>n.dispatchEvent(e))}function nn(n){const e=s.useRef(n);return s.useEffect(()=>{e.current=n}),s.useMemo(()=>(...t)=>{var o;return(o=e.current)===null||o===void 0?void 0:o.call(e,...t)},[])}function Ia(n,e=globalThis==null?void 0:globalThis.document){const t=nn(n);s.useEffect(()=>{const o=r=>{r.key==="Escape"&&t(r)};return e.addEventListener("keydown",o),()=>e.removeEventListener("keydown",o)},[t,e])}const It="dismissableLayer.update",Ma="dismissableLayer.pointerDownOutside",Aa="dismissableLayer.focusOutside";let Nn;const Oa=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),La=s.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...d}=n,h=s.useContext(Oa),[f,v]=s.useState(null),m=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,b]=s.useState({}),p=Ke(e,T=>v(T)),g=Array.from(h.layers),[y]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),C=f?g.indexOf(f):-1,$=h.layersWithOutsidePointerEventsDisabled.size>0,P=C>=w,N=Fa(T=>{const V=T.target,H=[...h.branches].some(O=>O.contains(V));!P||H||(a==null||a(T),c==null||c(T),T.defaultPrevented||u==null||u())},m),_=Ba(T=>{const V=T.target;[...h.branches].some(O=>O.contains(V))||(l==null||l(T),c==null||c(T),T.defaultPrevented||u==null||u())},m);return Ia(T=>{C===h.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&u&&(T.preventDefault(),u()))},m),s.useEffect(()=>{if(f)return o&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Nn=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),Pn(),()=>{o&&h.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Nn)}},[f,m,o,h]),s.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),Pn())},[f,h]),s.useEffect(()=>{const T=()=>b({});return document.addEventListener(It,T),()=>document.removeEventListener(It,T)},[]),s.createElement(le.div,re({},d,{ref:p,style:{pointerEvents:$?P?"auto":"none":void 0,...n.style},onFocusCapture:_e(n.onFocusCapture,_.onFocusCapture),onBlurCapture:_e(n.onBlurCapture,_.onBlurCapture),onPointerDownCapture:_e(n.onPointerDownCapture,N.onPointerDownCapture)}))});function Fa(n,e=globalThis==null?void 0:globalThis.document){const t=nn(n),o=s.useRef(!1),r=s.useRef(()=>{});return s.useEffect(()=>{const a=c=>{if(c.target&&!o.current){let d=function(){$o(Ma,t,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);o.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,t]),{onPointerDownCapture:()=>o.current=!0}}function Ba(n,e=globalThis==null?void 0:globalThis.document){const t=nn(n),o=s.useRef(!1);return s.useEffect(()=>{const r=a=>{a.target&&!o.current&&$o(Aa,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,t]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Pn(){const n=new CustomEvent(It);document.dispatchEvent(n)}function $o(n,e,t,{discrete:o}){const r=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&r.addEventListener(n,e,{once:!0}),o?ka(r,a):r.dispatchEvent(a)}function Rn(n){const e=s.useRef(n);return s.useEffect(()=>{e.current=n}),s.useMemo(()=>(...t)=>{var o;return(o=e.current)===null||o===void 0?void 0:o.call(e,...t)},[])}const Ct="focusScope.autoFocusOnMount",St="focusScope.autoFocusOnUnmount",$n={bubbles:!1,cancelable:!0},Va=s.forwardRef((n,e)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...l}=n,[c,u]=s.useState(null),d=Rn(r),h=Rn(a),f=s.useRef(null),v=Ke(e,p=>u(p)),m=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(o){let p=function(C){if(m.paused||!c)return;const $=C.target;c.contains($)?f.current=$:fe(f.current,{select:!0})},g=function(C){if(m.paused||!c)return;const $=C.relatedTarget;$!==null&&(c.contains($)||fe(f.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&fe(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const w=new MutationObserver(y);return c&&w.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),w.disconnect()}}},[o,c,m.paused]),s.useEffect(()=>{if(c){Tn.add(m);const p=document.activeElement;if(!c.contains(p)){const y=new CustomEvent(Ct,$n);c.addEventListener(Ct,d),c.dispatchEvent(y),y.defaultPrevented||(Wa(Ya(jo(c)),{select:!0}),document.activeElement===p&&fe(c))}return()=>{c.removeEventListener(Ct,d),setTimeout(()=>{const y=new CustomEvent(St,$n);c.addEventListener(St,h),c.dispatchEvent(y),y.defaultPrevented||fe(p??document.body,{select:!0}),c.removeEventListener(St,h),Tn.remove(m)},0)}}},[c,d,h,m]);const b=s.useCallback(p=>{if(!t&&!o||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const w=p.currentTarget,[C,$]=za(w);C&&$?!p.shiftKey&&y===$?(p.preventDefault(),t&&fe(C,{select:!0})):p.shiftKey&&y===C&&(p.preventDefault(),t&&fe($,{select:!0})):y===w&&p.preventDefault()}},[t,o,m.paused]);return s.createElement(le.div,re({tabIndex:-1},l,{ref:v,onKeyDown:b}))});function Wa(n,{select:e=!1}={}){const t=document.activeElement;for(const o of n)if(fe(o,{select:e}),document.activeElement!==t)return}function za(n){const e=jo(n),t=jn(e,n),o=jn(e.reverse(),n);return[t,o]}function jo(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function jn(n,e){for(const t of n)if(!Ha(t,{upTo:e}))return t}function Ha(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Ua(n){return n instanceof HTMLInputElement&&"select"in n}function fe(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Ua(n)&&e&&n.select()}}const Tn=Ka();function Ka(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=_n(n,e),n.unshift(e)},remove(e){var t;n=_n(n,e),(t=n[0])===null||t===void 0||t.resume()}}}function _n(n,e){const t=[...n],o=t.indexOf(e);return o!==-1&&t.splice(o,1),t}function Ya(n){return n.filter(e=>e.tagName!=="A")}const qa=s.forwardRef((n,e)=>{var t;const{container:o=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...r}=n;return o?ns.createPortal(s.createElement(le.div,re({},r,{ref:e})),o):null}),Dn=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{};function Xa(n,e){return s.useReducer((t,o)=>{const r=e[t][o];return r??t},n)}const ft=n=>{const{present:e,children:t}=n,o=Ga(e),r=typeof t=="function"?t({present:o.isPresent}):s.Children.only(t),a=Ke(o.ref,r.ref);return typeof t=="function"||o.isPresent?s.cloneElement(r,{ref:a}):null};ft.displayName="Presence";function Ga(n){const[e,t]=s.useState(),o=s.useRef({}),r=s.useRef(n),a=s.useRef("none"),l=n?"mounted":"unmounted",[c,u]=Xa(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const d=Qe(o.current);a.current=c==="mounted"?d:"none"},[c]),Dn(()=>{const d=o.current,h=r.current;if(h!==n){const v=a.current,m=Qe(d);n?u("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&v!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,u]),Dn(()=>{if(e){const d=f=>{const m=Qe(o.current).includes(f.animationName);f.target===e&&m&&lt.flushSync(()=>u("ANIMATION_END"))},h=f=>{f.target===e&&(a.current=Qe(o.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:s.useCallback(d=>{d&&(o.current=getComputedStyle(d)),t(d)},[])}}function Qe(n){return(n==null?void 0:n.animationName)||"none"}let Et=0;function Za(){s.useEffect(()=>{var n,e;const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(n=t[0])!==null&&n!==void 0?n:kn()),document.body.insertAdjacentElement("beforeend",(e=t[1])!==null&&e!==void 0?e:kn()),Et++,()=>{Et===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),Et--}},[])}function kn(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",n}var To=os(),Nt=function(){},ht=s.forwardRef(function(n,e){var t=s.useRef(null),o=s.useState({onScrollCapture:Nt,onWheelCapture:Nt,onTouchMoveCapture:Nt}),r=o[0],a=o[1],l=n.forwardProps,c=n.children,u=n.className,d=n.removeScrollBar,h=n.enabled,f=n.shards,v=n.sideCar,m=n.noIsolation,b=n.inert,p=n.allowPinchZoom,g=n.as,y=g===void 0?"div":g,w=rs(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=v,$=ss([t,e]),P=je(je({},w),r);return s.createElement(s.Fragment,null,h&&s.createElement(C,{sideCar:To,removeScrollBar:d,shards:f,noIsolation:m,inert:b,setCallbacks:a,allowPinchZoom:!!p,lockRef:t}),l?s.cloneElement(s.Children.only(c),je(je({},P),{ref:$})):s.createElement(y,je({},P,{className:u,ref:$}),c))});ht.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ht.classNames={fullWidth:is,zeroRight:as};var Mt=!1;if(typeof window<"u")try{var Je=Object.defineProperty({},"passive",{get:function(){return Mt=!0,!0}});window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Mt=!1}var Re=Mt?{passive:!1}:!1,Qa=function(n){return n.tagName==="TEXTAREA"},_o=function(n,e){var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Qa(n)&&t[e]==="visible")},Ja=function(n){return _o(n,"overflowY")},ei=function(n){return _o(n,"overflowX")},In=function(n,e){var t=e;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var o=Do(n,t);if(o){var r=ko(n,t),a=r[1],l=r[2];if(a>l)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},ti=function(n){var e=n.scrollTop,t=n.scrollHeight,o=n.clientHeight;return[e,t,o]},ni=function(n){var e=n.scrollLeft,t=n.scrollWidth,o=n.clientWidth;return[e,t,o]},Do=function(n,e){return n==="v"?Ja(e):ei(e)},ko=function(n,e){return n==="v"?ti(e):ni(e)},oi=function(n,e){return n==="h"&&e==="rtl"?-1:1},ri=function(n,e,t,o,r){var a=oi(n,window.getComputedStyle(e).direction),l=a*o,c=t.target,u=e.contains(c),d=!1,h=l>0,f=0,v=0;do{var m=ko(n,c),b=m[0],p=m[1],g=m[2],y=p-g-a*b;(b||y)&&Do(n,c)&&(f+=y,v+=b),c=c.parentNode}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(h&&f===0||!h&&v===0)&&(d=!0),d},et=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Mn=function(n){return[n.deltaX,n.deltaY]},An=function(n){return n&&"current"in n?n.current:n},si=function(n,e){return n[0]===e[0]&&n[1]===e[1]},ai=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},ii=0,$e=[];function li(n){var e=s.useRef([]),t=s.useRef([0,0]),o=s.useRef(),r=s.useState(ii++)[0],a=s.useState(function(){return ls()})[0],l=s.useRef(n);s.useEffect(function(){l.current=n},[n]),s.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(r));var p=cs([n.lockRef.current],(n.shards||[]).map(An),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(r))})}}},[n.inert,n.lockRef.current,n.shards]);var c=s.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!l.current.allowPinchZoom;var y=et(p),w=t.current,C="deltaX"in p?p.deltaX:w[0]-y[0],$="deltaY"in p?p.deltaY:w[1]-y[1],P,N=p.target,_=Math.abs(C)>Math.abs($)?"h":"v";if("touches"in p&&_==="h"&&N.type==="range")return!1;var T=In(_,N);if(!T)return!0;if(T?P=_:(P=_==="v"?"h":"v",T=In(_,N)),!T)return!1;if(!o.current&&"changedTouches"in p&&(C||$)&&(o.current=P),!P)return!0;var V=o.current||P;return ri(V,g,p,V==="h"?C:$)},[]),u=s.useCallback(function(p){var g=p;if(!(!$e.length||$e[$e.length-1]!==a)){var y="deltaY"in g?Mn(g):et(g),w=e.current.filter(function(P){return P.name===g.type&&P.target===g.target&&si(P.delta,y)})[0];if(w&&w.should){g.cancelable&&g.preventDefault();return}if(!w){var C=(l.current.shards||[]).map(An).filter(Boolean).filter(function(P){return P.contains(g.target)}),$=C.length>0?c(g,C[0]):!l.current.noIsolation;$&&g.cancelable&&g.preventDefault()}}},[]),d=s.useCallback(function(p,g,y,w){var C={name:p,delta:g,target:y,should:w};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function($){return $!==C})},1)},[]),h=s.useCallback(function(p){t.current=et(p),o.current=void 0},[]),f=s.useCallback(function(p){d(p.type,Mn(p),p.target,c(p,n.lockRef.current))},[]),v=s.useCallback(function(p){d(p.type,et(p),p.target,c(p,n.lockRef.current))},[]);s.useEffect(function(){return $e.push(a),n.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:v}),document.addEventListener("wheel",u,Re),document.addEventListener("touchmove",u,Re),document.addEventListener("touchstart",h,Re),function(){$e=$e.filter(function(p){return p!==a}),document.removeEventListener("wheel",u,Re),document.removeEventListener("touchmove",u,Re),document.removeEventListener("touchstart",h,Re)}},[]);var m=n.removeScrollBar,b=n.inert;return s.createElement(s.Fragment,null,b?s.createElement(a,{styles:ai(r)}):null,m?s.createElement(us,{gapMode:"margin"}):null)}const ci=ds(To,li);var Io=s.forwardRef(function(n,e){return s.createElement(ht,je({},n,{ref:e,sideCar:ci}))});Io.classNames=ht.classNames;const Mo=s.forwardRef((n,e)=>{const{children:t,...o}=n,r=s.Children.toArray(t),a=r.find(di);if(a){const l=a.props.children,c=r.map(u=>u===a?s.Children.count(l)>1?s.Children.only(null):s.isValidElement(l)?l.props.children:null:u);return s.createElement(At,re({},o,{ref:e}),s.isValidElement(l)?s.cloneElement(l,void 0,c):null)}return s.createElement(At,re({},o,{ref:e}),t)});Mo.displayName="Slot";const At=s.forwardRef((n,e)=>{const{children:t,...o}=n;return s.isValidElement(t)?s.cloneElement(t,{...fi(o,t.props),ref:e?No(e,t.ref):t.ref}):s.Children.count(t)>1?s.Children.only(null):null});At.displayName="SlotClone";const ui=({children:n})=>s.createElement(s.Fragment,null,n);function di(n){return s.isValidElement(n)&&n.type===ui}function fi(n,e){const t={...e};for(const o in e){const r=n[o],a=e[o];/^on[A-Z]/.test(o)?r&&a?t[o]=(...c)=>{a(...c),r(...c)}:r&&(t[o]=r):o==="style"?t[o]={...r,...a}:o==="className"&&(t[o]=[r,a].filter(Boolean).join(" "))}return{...n,...t}}const Ao="Dialog",[Oo,Hc]=ya(Ao),[hi,Ne]=Oo(Ao),pi=n=>{const{__scopeDialog:e,children:t,open:o,defaultOpen:r,onOpenChange:a,modal:l=!0}=n,c=s.useRef(null),u=s.useRef(null),[d=!1,h]=Na({prop:o,defaultProp:r,onChange:a});return s.createElement(hi,{scope:e,triggerRef:c,contentRef:u,contentId:wt(),titleId:wt(),descriptionId:wt(),open:d,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(f=>!f),[h]),modal:l},t)},Lo="DialogPortal",[mi,Fo]=Oo(Lo,{forceMount:void 0}),vi=n=>{const{__scopeDialog:e,forceMount:t,children:o,container:r}=n,a=Ne(Lo,e);return s.createElement(mi,{scope:e,forceMount:t},s.Children.map(o,l=>s.createElement(ft,{present:t||a.open},s.createElement(qa,{asChild:!0,container:r},l))))},Ot="DialogOverlay",gi=s.forwardRef((n,e)=>{const t=Fo(Ot,n.__scopeDialog),{forceMount:o=t.forceMount,...r}=n,a=Ne(Ot,n.__scopeDialog);return a.modal?s.createElement(ft,{present:o||a.open},s.createElement(xi,re({},r,{ref:e}))):null}),xi=s.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,r=Ne(Ot,t);return s.createElement(Io,{as:Mo,allowPinchZoom:!0,shards:[r.contentRef]},s.createElement(le.div,re({"data-state":Vo(r.open)},o,{ref:e,style:{pointerEvents:"auto",...o.style}})))}),ke="DialogContent",bi=s.forwardRef((n,e)=>{const t=Fo(ke,n.__scopeDialog),{forceMount:o=t.forceMount,...r}=n,a=Ne(ke,n.__scopeDialog);return s.createElement(ft,{present:o||a.open},a.modal?s.createElement(yi,re({},r,{ref:e})):s.createElement(wi,re({},r,{ref:e})))}),yi=s.forwardRef((n,e)=>{const t=Ne(ke,n.__scopeDialog),o=s.useRef(null),r=Ke(e,t.contentRef,o);return s.useEffect(()=>{const a=o.current;if(a)return ct(a)},[]),s.createElement(Bo,re({},n,{ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:_e(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:_e(n.onFocusOutside,a=>a.preventDefault())}))}),wi=s.forwardRef((n,e)=>{const t=Ne(ke,n.__scopeDialog),o=s.useRef(!1),r=s.useRef(!1);return s.createElement(Bo,re({},n,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l;if((l=n.onCloseAutoFocus)===null||l===void 0||l.call(n,a),!a.defaultPrevented){var c;o.current||(c=t.triggerRef.current)===null||c===void 0||c.focus(),a.preventDefault()}o.current=!1,r.current=!1},onInteractOutside:a=>{var l,c;(l=n.onInteractOutside)===null||l===void 0||l.call(n,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const u=a.target;((c=t.triggerRef.current)===null||c===void 0?void 0:c.contains(u))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}}))}),Bo=s.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:a,...l}=n,c=Ne(ke,t),u=s.useRef(null),d=Ke(e,u);return Za(),s.createElement(s.Fragment,null,s.createElement(Va,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:a},s.createElement(La,re({role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Vo(c.open)},l,{ref:d,onDismiss:()=>c.onOpenChange(!1)}))),!1)}),Ci="DialogTitle";function Vo(n){return n?"open":"closed"}const Si="DialogTitleWarning";ba(Si,{contentName:ke,titleName:Ci,docsSlug:"dialog"});const Ei=pi,Ni=vi,Pi=gi,Ri=bi;var Be='[cmdk-group=""]',Pt='[cmdk-group-items=""]',$i='[cmdk-group-heading=""]',on='[cmdk-item=""]',On=`${on}:not([aria-disabled="true"])`,Lt="cmdk-item-select",be="data-value",ji=(n,e,t)=>ga(n,e,t),Wo=s.createContext(void 0),Ye=()=>s.useContext(Wo),zo=s.createContext(void 0),rn=()=>s.useContext(zo),Ho=s.createContext(void 0),Uo=s.forwardRef((n,e)=>{let t=Te(()=>{var x,D;return{search:"",value:(D=(x=n.value)!=null?x:n.defaultValue)!=null?D:"",filtered:{count:0,items:new Map,groups:new Set}}}),o=Te(()=>new Set),r=Te(()=>new Map),a=Te(()=>new Map),l=Te(()=>new Set),c=Ko(n),{label:u,children:d,value:h,onValueChange:f,filter:v,shouldFilter:m,loop:b,disablePointerSelection:p=!1,vimBindings:g=!0,...y}=n,w=s.useId(),C=s.useId(),$=s.useId(),P=s.useRef(null),N=Bi();we(()=>{if(h!==void 0){let x=h.trim();t.current.value=x,_.emit()}},[h]),we(()=>{N(6,X)},[]);let _=s.useMemo(()=>({subscribe:x=>(l.current.add(x),()=>l.current.delete(x)),snapshot:()=>t.current,setState:(x,D,M)=>{var R,k,S;if(!Object.is(t.current[x],D)){if(t.current[x]=D,x==="search")U(),H(),N(1,O);else if(x==="value"&&(M||N(5,X),((R=c.current)==null?void 0:R.value)!==void 0)){let B=D??"";(S=(k=c.current).onValueChange)==null||S.call(k,B);return}_.emit()}},emit:()=>{l.current.forEach(x=>x())}}),[]),T=s.useMemo(()=>({value:(x,D,M)=>{var R;D!==((R=a.current.get(x))==null?void 0:R.value)&&(a.current.set(x,{value:D,keywords:M}),t.current.filtered.items.set(x,V(D,M)),N(2,()=>{H(),_.emit()}))},item:(x,D)=>(o.current.add(x),D&&(r.current.has(D)?r.current.get(D).add(x):r.current.set(D,new Set([x]))),N(3,()=>{U(),H(),t.current.value||O(),_.emit()}),()=>{a.current.delete(x),o.current.delete(x),t.current.filtered.items.delete(x);let M=Y();N(4,()=>{U(),(M==null?void 0:M.getAttribute("id"))===x&&O(),_.emit()})}),group:x=>(r.current.has(x)||r.current.set(x,new Set),()=>{a.current.delete(x),r.current.delete(x)}),filter:()=>c.current.shouldFilter,label:u||n["aria-label"],disablePointerSelection:p,listId:w,inputId:$,labelId:C,listInnerRef:P}),[]);function V(x,D){var M,R;let k=(R=(M=c.current)==null?void 0:M.filter)!=null?R:ji;return x?k(x,t.current.search,D):0}function H(){if(!t.current.search||c.current.shouldFilter===!1)return;let x=t.current.filtered.items,D=[];t.current.filtered.groups.forEach(R=>{let k=r.current.get(R),S=0;k.forEach(B=>{let I=x.get(B);S=Math.max(I,S)}),D.push([R,S])});let M=P.current;Q().sort((R,k)=>{var S,B;let I=R.getAttribute("id"),F=k.getAttribute("id");return((S=x.get(F))!=null?S:0)-((B=x.get(I))!=null?B:0)}).forEach(R=>{let k=R.closest(Pt);k?k.appendChild(R.parentElement===k?R:R.closest(`${Pt} > *`)):M.appendChild(R.parentElement===M?R:R.closest(`${Pt} > *`))}),D.sort((R,k)=>k[1]-R[1]).forEach(R=>{let k=P.current.querySelector(`${Be}[${be}="${encodeURIComponent(R[0])}"]`);k==null||k.parentElement.appendChild(k)})}function O(){let x=Q().find(M=>M.getAttribute("aria-disabled")!=="true"),D=x==null?void 0:x.getAttribute(be);_.setState("value",D||void 0)}function U(){var x,D,M,R;if(!t.current.search||c.current.shouldFilter===!1){t.current.filtered.count=o.current.size;return}t.current.filtered.groups=new Set;let k=0;for(let S of o.current){let B=(D=(x=a.current.get(S))==null?void 0:x.value)!=null?D:"",I=(R=(M=a.current.get(S))==null?void 0:M.keywords)!=null?R:[],F=V(B,I);t.current.filtered.items.set(S,F),F>0&&k++}for(let[S,B]of r.current)for(let I of B)if(t.current.filtered.items.get(I)>0){t.current.filtered.groups.add(S);break}t.current.filtered.count=k}function X(){var x,D,M;let R=Y();R&&(((x=R.parentElement)==null?void 0:x.firstChild)===R&&((M=(D=R.closest(Be))==null?void 0:D.querySelector($i))==null||M.scrollIntoView({block:"nearest"})),R.scrollIntoView({block:"nearest"}))}function Y(){var x;return(x=P.current)==null?void 0:x.querySelector(`${on}[aria-selected="true"]`)}function Q(){var x;return Array.from((x=P.current)==null?void 0:x.querySelectorAll(On))}function K(x){let D=Q()[x];D&&_.setState("value",D.getAttribute(be))}function G(x){var D;let M=Y(),R=Q(),k=R.findIndex(B=>B===M),S=R[k+x];(D=c.current)!=null&&D.loop&&(S=k+x<0?R[R.length-1]:k+x===R.length?R[0]:R[k+x]),S&&_.setState("value",S.getAttribute(be))}function Z(x){let D=Y(),M=D==null?void 0:D.closest(Be),R;for(;M&&!R;)M=x>0?Li(M,Be):Fi(M,Be),R=M==null?void 0:M.querySelector(On);R?_.setState("value",R.getAttribute(be)):G(x)}let j=()=>K(Q().length-1),E=x=>{x.preventDefault(),x.metaKey?j():x.altKey?Z(1):G(1)},L=x=>{x.preventDefault(),x.metaKey?K(0):x.altKey?Z(-1):G(-1)};return s.createElement(le.div,{ref:e,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:x=>{var D;if((D=y.onKeyDown)==null||D.call(y,x),!x.defaultPrevented)switch(x.key){case"n":case"j":{g&&x.ctrlKey&&E(x);break}case"ArrowDown":{E(x);break}case"p":case"k":{g&&x.ctrlKey&&L(x);break}case"ArrowUp":{L(x);break}case"Home":{x.preventDefault(),K(0);break}case"End":{x.preventDefault(),j();break}case"Enter":if(!x.nativeEvent.isComposing&&x.keyCode!==229){x.preventDefault();let M=Y();if(M){let R=new Event(Lt);M.dispatchEvent(R)}}}}},s.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:Wi},u),pt(n,x=>s.createElement(zo.Provider,{value:_},s.createElement(Wo.Provider,{value:T},x))))}),Ti=s.forwardRef((n,e)=>{var t,o;let r=s.useId(),a=s.useRef(null),l=s.useContext(Ho),c=Ye(),u=Ko(n),d=(o=(t=u.current)==null?void 0:t.forceMount)!=null?o:l==null?void 0:l.forceMount;we(()=>{if(!d)return c.item(r,l==null?void 0:l.id)},[d]);let h=Yo(r,a,[n.value,n.children,a],n.keywords),f=rn(),v=Ce(N=>N.value&&N.value===h.current),m=Ce(N=>d||c.filter()===!1?!0:N.search?N.filtered.items.get(r)>0:!0);s.useEffect(()=>{let N=a.current;if(!(!N||n.disabled))return N.addEventListener(Lt,b),()=>N.removeEventListener(Lt,b)},[m,n.onSelect,n.disabled]);function b(){var N,_;p(),(_=(N=u.current).onSelect)==null||_.call(N,h.current)}function p(){f.setState("value",h.current,!0)}if(!m)return null;let{disabled:g,value:y,onSelect:w,forceMount:C,keywords:$,...P}=n;return s.createElement(le.div,{ref:We([a,e]),...P,id:r,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!v,"data-disabled":!!g,"data-selected":!!v,onPointerMove:g||c.disablePointerSelection?void 0:p,onClick:g?void 0:b},n.children)}),_i=s.forwardRef((n,e)=>{let{heading:t,children:o,forceMount:r,...a}=n,l=s.useId(),c=s.useRef(null),u=s.useRef(null),d=s.useId(),h=Ye(),f=Ce(m=>r||h.filter()===!1?!0:m.search?m.filtered.groups.has(l):!0);we(()=>h.group(l),[]),Yo(l,c,[n.value,n.heading,u]);let v=s.useMemo(()=>({id:l,forceMount:r}),[r]);return s.createElement(le.div,{ref:We([c,e]),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},t&&s.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},t),pt(n,m=>s.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?d:void 0},s.createElement(Ho.Provider,{value:v},m))))}),Di=s.forwardRef((n,e)=>{let{alwaysRender:t,...o}=n,r=s.useRef(null),a=Ce(l=>!l.search);return!t&&!a?null:s.createElement(le.div,{ref:We([r,e]),...o,"cmdk-separator":"",role:"separator"})}),ki=s.forwardRef((n,e)=>{let{onValueChange:t,...o}=n,r=n.value!=null,a=rn(),l=Ce(h=>h.search),c=Ce(h=>h.value),u=Ye(),d=s.useMemo(()=>{var h;let f=(h=u.listInnerRef.current)==null?void 0:h.querySelector(`${on}[${be}="${encodeURIComponent(c)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return s.useEffect(()=>{n.value!=null&&a.setState("search",n.value)},[n.value]),s.createElement(le.input,{ref:e,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":d,id:u.inputId,type:"text",value:r?n.value:l,onChange:h=>{r||a.setState("search",h.target.value),t==null||t(h.target.value)}})}),Ii=s.forwardRef((n,e)=>{let{children:t,label:o="Suggestions",...r}=n,a=s.useRef(null),l=s.useRef(null),c=Ye();return s.useEffect(()=>{if(l.current&&a.current){let u=l.current,d=a.current,h,f=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let v=u.offsetHeight;d.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return f.observe(u),()=>{cancelAnimationFrame(h),f.unobserve(u)}}},[]),s.createElement(le.div,{ref:We([a,e]),...r,"cmdk-list":"",role:"listbox","aria-label":o,id:c.listId},pt(n,u=>s.createElement("div",{ref:We([l,c.listInnerRef]),"cmdk-list-sizer":""},u)))}),Mi=s.forwardRef((n,e)=>{let{open:t,onOpenChange:o,overlayClassName:r,contentClassName:a,container:l,...c}=n;return s.createElement(Ei,{open:t,onOpenChange:o},s.createElement(Ni,{container:l},s.createElement(Pi,{"cmdk-overlay":"",className:r}),s.createElement(Ri,{"aria-label":n.label,"cmdk-dialog":"",className:a},s.createElement(Uo,{ref:e,...c}))))}),Ai=s.forwardRef((n,e)=>Ce(t=>t.filtered.count===0)?s.createElement(le.div,{ref:e,...n,"cmdk-empty":"",role:"presentation"}):null),Oi=s.forwardRef((n,e)=>{let{progress:t,children:o,label:r="Loading...",...a}=n;return s.createElement(le.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},pt(n,l=>s.createElement("div",{"aria-hidden":!0},l)))}),ae=Object.assign(Uo,{List:Ii,Item:Ti,Input:ki,Group:_i,Separator:Di,Dialog:Mi,Empty:Ai,Loading:Oi});function Li(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function Fi(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function Ko(n){let e=s.useRef(n);return we(()=>{e.current=n}),e}var we=typeof window>"u"?s.useEffect:s.useLayoutEffect;function Te(n){let e=s.useRef();return e.current===void 0&&(e.current=n()),e}function We(n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function Ce(n){let e=rn(),t=()=>n(e.snapshot());return s.useSyncExternalStore(e.subscribe,t,t)}function Yo(n,e,t,o=[]){let r=s.useRef(),a=Ye();return we(()=>{var l;let c=(()=>{var d;for(let h of t){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(d=h.current.textContent)==null?void 0:d.trim():r.current}})(),u=o.map(d=>d.trim());a.value(n,c,u),(l=e.current)==null||l.setAttribute(be,c),r.current=c}),r}var Bi=()=>{let[n,e]=s.useState(),t=Te(()=>new Map);return we(()=>{t.current.forEach(o=>o()),t.current=new Map},[n]),(o,r)=>{t.current.set(o,r),e({})}};function Vi(n){let e=n.type;return typeof e=="function"?e(n.props):"render"in e?e.render(n.props):n}function pt({asChild:n,children:e},t){return n&&s.isValidElement(e)?s.cloneElement(Vi(e),{ref:e.ref},t(e.props.children)):t(e)}var Wi={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},sn="Dialog",[qo,Uc]=Ue(sn),[zi,ue]=qo(sn),Xo=n=>{const{__scopeDialog:e,children:t,open:o,defaultOpen:r,onOpenChange:a,modal:l=!0}=n,c=s.useRef(null),u=s.useRef(null),[d=!1,h]=De({prop:o,defaultProp:r,onChange:a});return i.jsx(zi,{scope:e,triggerRef:c,contentRef:u,contentId:pe(),titleId:pe(),descriptionId:pe(),open:d,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(f=>!f),[h]),modal:l,children:t})};Xo.displayName=sn;var Go="DialogTrigger",Hi=s.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,r=ue(Go,t),a=te(e,r.triggerRef);return i.jsx(q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":cn(r.open),...o,ref:a,onClick:z(n.onClick,r.onOpenToggle)})});Hi.displayName=Go;var an="DialogPortal",[Ui,Zo]=qo(an,{forceMount:void 0}),Qo=n=>{const{__scopeDialog:e,forceMount:t,children:o,container:r}=n,a=ue(an,e);return i.jsx(Ui,{scope:e,forceMount:t,children:s.Children.map(o,l=>i.jsx(Ae,{present:t||a.open,children:i.jsx(Ut,{asChild:!0,container:r,children:l})}))})};Qo.displayName=an;var st="DialogOverlay",Jo=s.forwardRef((n,e)=>{const t=Zo(st,n.__scopeDialog),{forceMount:o=t.forceMount,...r}=n,a=ue(st,n.__scopeDialog);return a.modal?i.jsx(Ae,{present:o||a.open,children:i.jsx(Ki,{...r,ref:e})}):null});Jo.displayName=st;var Ki=s.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,r=ue(st,t);return i.jsx(Kt,{as:Yt,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(q.div,{"data-state":cn(r.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),Se="DialogContent",er=s.forwardRef((n,e)=>{const t=Zo(Se,n.__scopeDialog),{forceMount:o=t.forceMount,...r}=n,a=ue(Se,n.__scopeDialog);return i.jsx(Ae,{present:o||a.open,children:a.modal?i.jsx(Yi,{...r,ref:e}):i.jsx(qi,{...r,ref:e})})});er.displayName=Se;var Yi=s.forwardRef((n,e)=>{const t=ue(Se,n.__scopeDialog),o=s.useRef(null),r=te(e,t.contentRef,o);return s.useEffect(()=>{const a=o.current;if(a)return ct(a)},[]),i.jsx(tr,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:z(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:z(n.onFocusOutside,a=>a.preventDefault())})}),qi=s.forwardRef((n,e)=>{const t=ue(Se,n.__scopeDialog),o=s.useRef(!1),r=s.useRef(!1);return i.jsx(tr,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(o.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:a=>{var u,d;(u=n.onInteractOutside)==null||u.call(n,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=a.target;((d=t.triggerRef.current)==null?void 0:d.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),tr=s.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:a,...l}=n,c=ue(Se,t),u=s.useRef(null),d=te(e,u);return qt(),i.jsxs(i.Fragment,{children:[i.jsx(Xt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(Gt,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":cn(c.open),...l,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Xi,{titleId:c.titleId}),i.jsx(Zi,{contentRef:u,descriptionId:c.descriptionId})]})]})}),ln="DialogTitle",nr=s.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,r=ue(ln,t);return i.jsx(q.h2,{id:r.titleId,...o,ref:e})});nr.displayName=ln;var or="DialogDescription",rr=s.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,r=ue(or,t);return i.jsx(q.p,{id:r.descriptionId,...o,ref:e})});rr.displayName=or;var sr="DialogClose",ar=s.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,r=ue(sr,t);return i.jsx(q.button,{type:"button",...o,ref:e,onClick:z(n.onClick,()=>r.onOpenChange(!1))})});ar.displayName=sr;function cn(n){return n?"open":"closed"}var ir="DialogTitleWarning",[Kc,lr]=fs(ir,{contentName:Se,titleName:ln,docsSlug:"dialog"}),Xi=({titleId:n})=>{const e=lr(ir),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return s.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Gi="DialogDescriptionWarning",Zi=({contentRef:n,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lr(Gi).contentName}}.`;return s.useEffect(()=>{var a;const r=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(o))},[o,n,e]),null},Qi=Xo,Ji=Qo,el=Jo,tl=er,nl=nr,ol=rr,rl=ar;function sl({...n}){return i.jsx(Qi,{"data-slot":"dialog",...n})}function al({...n}){return i.jsx(Ji,{"data-slot":"dialog-portal",...n})}function il({className:n,...e}){return i.jsx(el,{"data-slot":"dialog-overlay",className:J("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-[299] bg-black/80",n),...e})}function ll({className:n,children:e,...t}){return i.jsxs(al,{"data-slot":"dialog-portal",children:[i.jsx(il,{}),i.jsxs(tl,{"data-slot":"dialog-content",className:J("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,i.jsxs(rl,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(hs,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function cl({className:n,...e}){return i.jsx("div",{"data-slot":"dialog-header",className:J("flex flex-col gap-2 text-center sm:text-left",n),...e})}function ul({className:n,...e}){return i.jsx(nl,{"data-slot":"dialog-title",className:J("text-lg leading-none font-semibold",n),...e})}function dl({className:n,...e}){return i.jsx(ol,{"data-slot":"dialog-description",className:J("text-muted-foreground text-sm",n),...e})}const un=s.forwardRef(({className:n,...e},t)=>i.jsx(ae,{ref:t,className:J("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...e}));un.displayName=ae.displayName;const dn=s.forwardRef(({className:n,...e},t)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(Is,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(ae.Input,{ref:t,className:J("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...e})]}));dn.displayName=ae.Input.displayName;const fn=s.forwardRef(({className:n,...e},t)=>i.jsx(ae.List,{ref:t,className:J("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...e}));fn.displayName=ae.List.displayName;const hn=s.forwardRef((n,e)=>i.jsx(ae.Empty,{ref:e,className:"py-6 text-center text-sm",...n}));hn.displayName=ae.Empty.displayName;const pn=s.forwardRef(({className:n,...e},t)=>i.jsx(ae.Group,{ref:t,className:J("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...e}));pn.displayName=ae.Group.displayName;const fl=s.forwardRef(({className:n,...e},t)=>i.jsx(ae.Separator,{ref:t,className:J("-mx-1 h-px bg-border",n),...e}));fl.displayName=ae.Separator.displayName;const mn=s.forwardRef(({className:n,...e},t)=>i.jsx(ae.Item,{ref:t,className:J("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n),...e}));mn.displayName=ae.Item.displayName;var vn="Popover",[cr,Yc]=Ue(vn,[ut]),qe=ut(),[hl,ve]=cr(vn),ur=n=>{const{__scopePopover:e,children:t,open:o,defaultOpen:r,onOpenChange:a,modal:l=!1}=n,c=qe(e),u=s.useRef(null),[d,h]=s.useState(!1),[f=!1,v]=De({prop:o,defaultProp:r,onChange:a});return i.jsx(Kn,{...c,children:i.jsx(hl,{scope:e,contentId:pe(),triggerRef:u,open:f,onOpenChange:v,onOpenToggle:s.useCallback(()=>v(m=>!m),[v]),hasCustomAnchor:d,onCustomAnchorAdd:s.useCallback(()=>h(!0),[]),onCustomAnchorRemove:s.useCallback(()=>h(!1),[]),modal:l,children:t})})};ur.displayName=vn;var dr="PopoverAnchor",pl=s.forwardRef((n,e)=>{const{__scopePopover:t,...o}=n,r=ve(dr,t),a=qe(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=r;return s.useEffect(()=>(l(),()=>c()),[l,c]),i.jsx(Zt,{...a,...o,ref:e})});pl.displayName=dr;var fr="PopoverTrigger",hr=s.forwardRef((n,e)=>{const{__scopePopover:t,...o}=n,r=ve(fr,t),a=qe(t),l=te(e,r.triggerRef),c=i.jsx(q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":xr(r.open),...o,ref:l,onClick:z(n.onClick,r.onOpenToggle)});return r.hasCustomAnchor?c:i.jsx(Zt,{asChild:!0,...a,children:c})});hr.displayName=fr;var gn="PopoverPortal",[ml,vl]=cr(gn,{forceMount:void 0}),pr=n=>{const{__scopePopover:e,forceMount:t,children:o,container:r}=n,a=ve(gn,e);return i.jsx(ml,{scope:e,forceMount:t,children:i.jsx(Ae,{present:t||a.open,children:i.jsx(Ut,{asChild:!0,container:r,children:o})})})};pr.displayName=gn;var Ie="PopoverContent",mr=s.forwardRef((n,e)=>{const t=vl(Ie,n.__scopePopover),{forceMount:o=t.forceMount,...r}=n,a=ve(Ie,n.__scopePopover);return i.jsx(Ae,{present:o||a.open,children:a.modal?i.jsx(gl,{...r,ref:e}):i.jsx(xl,{...r,ref:e})})});mr.displayName=Ie;var gl=s.forwardRef((n,e)=>{const t=ve(Ie,n.__scopePopover),o=s.useRef(null),r=te(e,o),a=s.useRef(!1);return s.useEffect(()=>{const l=o.current;if(l)return ct(l)},[]),i.jsx(Kt,{as:Yt,allowPinchZoom:!0,children:i.jsx(vr,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(n.onCloseAutoFocus,l=>{var c;l.preventDefault(),a.current||(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:z(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:z(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),xl=s.forwardRef((n,e)=>{const t=ve(Ie,n.__scopePopover),o=s.useRef(!1),r=s.useRef(!1);return i.jsx(vr,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(o.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:a=>{var u,d;(u=n.onInteractOutside)==null||u.call(n,a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=a.target;((d=t.triggerRef.current)==null?void 0:d.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),vr=s.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,...f}=n,v=ve(Ie,t),m=qe(t);return qt(),i.jsx(Xt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(Gt,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>v.onOpenChange(!1),children:i.jsx(Yn,{"data-state":xr(v.open),role:"dialog",id:v.contentId,...m,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gr="PopoverClose",bl=s.forwardRef((n,e)=>{const{__scopePopover:t,...o}=n,r=ve(gr,t);return i.jsx(q.button,{type:"button",...o,ref:e,onClick:z(n.onClick,()=>r.onOpenChange(!1))})});bl.displayName=gr;var yl="PopoverArrow",wl=s.forwardRef((n,e)=>{const{__scopePopover:t,...o}=n,r=qe(t);return i.jsx(qn,{...r,...o,ref:e})});wl.displayName=yl;function xr(n){return n?"open":"closed"}var Cl=ur,Sl=hr,El=pr,Nl=mr;function br({...n}){return i.jsx(Cl,{"data-slot":"popover",...n})}function yr({...n}){return i.jsx(Sl,{"data-slot":"popover-trigger",...n})}function wr({className:n,align:e="center",sideOffset:t=4,...o}){return i.jsx(El,{children:i.jsx(Nl,{"data-slot":"popover-content",align:e,sideOffset:t,className:J("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border p-4 shadow-md outline-hidden",n),...o})})}const Pl=[{name:"Morgan Freeman RVC v2",model_url:"https://huggingface.co/CxronaBxndit/Morgan-Freeman/resolve/main/Morgan-Freeman.zip"},{name:"Squidward Tentacles, 1500 Epochs, RVC v2, rmvpe (Spongebob)",model_url:"https://huggingface.co/lepifort/squidwardRVC/resolve/main/squidward.zip"},{name:"Bella Poarch (RVC V2 300 Epochs MangioCrepe)",model_url:"https://huggingface.co/datasets/sleepyboyeyes/Bella/resolve/main/Bella.zip"},{name:"Boyfriend (Friday Night Funkin' Week 3)",model_url:"https://huggingface.co/DarkWeBareBears69/My-RVC-Voice-Models/resolve/main/boyfriendWeek3.zip?download=true"}],Cr={voices:Pl},Rl=Cr.voices.map((n,e)=>({id:(e+1).toString(),name:n.name}));function $l({url:n,setUrl:e,selectedVoices:t,setSelectedVoices:o,pitch:r,setPitch:a,duration:l}){const[c,u]=s.useState(!1),[d,h]=s.useState(null);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white/60 uppercase text-xs",children:"Youtube Video Link"}),i.jsx(Ns,{placeholder:"Paste YouTube link here",onChange:f=>{var v,m;return((m=(v=f.target)==null?void 0:v.value)==null?void 0:m.includes("https://www.youtube.com/watch?v="))&&e(f.target.value)},className:"bg-black/50 border-0 text-white placeholder:text-white/40 text-sm h-8"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white/60 uppercase text-xs",children:"Voice"}),i.jsxs(br,{open:c,onOpenChange:u,children:[i.jsx(yr,{asChild:!0,children:i.jsx(ye,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between bg-black/50 border-none text-white hover:bg-black/50 hover:text-white h-8 cursor-pointer",children:t.length===0?"Select Voice Models":`${t.length} selected`})}),i.jsx(wr,{className:"w-[var(--radix-popper-anchor-width)] p-0 bg-[#1a1a1a] border-white/10 z-[203]",children:i.jsxs(un,{className:"bg-transparent w-full text-secondary",children:[i.jsx(dn,{placeholder:"Search voice models...",className:"text-white w-full"}),i.jsxs(fn,{children:[i.jsx(hn,{children:"No voice model found."}),i.jsx(pn,{children:Rl.map(f=>i.jsxs(mn,{value:f.name,onSelect:v=>{if(!n||!l){u(!1),h("Please first enter a valid YouTube link.");return}if(console.log("selectedVoices: ",t),t.length==2&&!t.includes(v)){u(!1),h("You can only choose two models.");return}else{const m=t.includes(f==null?void 0:f.name)?t.filter(b=>b!==(f==null?void 0:f.name)):t.length<5?[...t,f==null?void 0:f.name]:t;o(m)}},className:"w-full text-white cursor-pointer flex",children:[i.jsx(Qt,{className:J("mr-2 h-4 w-4",t.includes(f==null?void 0:f.name)?"opacity-100":"opacity-0")}),i.jsx("span",{className:"text-ellipsis whitespace-nowrap overflow-hidden",children:f.name})]},f.id))})]})]})})]}),d&&i.jsx("p",{className:"text-sm text-destructive/70 mt-1",children:d})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white/60 uppercase text-xs",children:"Pitch"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[r],onValueChange:([f])=>a(f),min:-12,max:12,step:1,className:"flex-1"}),i.jsx("span",{className:"text-white min-w-[2ch] text-center text-sm",children:r})]})]})]})}const jl=Cr.voices.map((n,e)=>({id:(e+1).toString(),name:n.name}));function Tl({selectedVoices:n,setSelectedVoices:e,pitch:t,setPitch:o,onFileUpload:r,isPending:a}){const[l,c]=s.useState(!1),[u,d]=s.useState(null),h=s.useRef(null),f=s.useRef(null),[v,m]=s.useState(!1),[b,p]=s.useState(null),g=localStorage.getItem("isGenerating"),y=N=>{var V;const _=(V=N.target.files)==null?void 0:V[0],T=document.getElementById("selectedAudio");console.log("existingAudio: ",T),T==null||T.pause(),_&&(_.size<=10*1024*1024&&(_.type==="audio/mpeg"||_.type==="audio/wav")?(d(_.name),r(_)):alert("Please upload an MP3 or WAV file under 10MB."))},w=()=>{var N;(N=h.current)==null||N.click()},C=N=>{N.preventDefault(),N.dataTransfer.dropEffect="copy",m(!0)},$=()=>{m(!1)},P=N=>{var T;N.preventDefault(),m(!1);const _=(T=N.dataTransfer.files)==null?void 0:T[0];_&&(_.size<=10*1024*1024&&(_.type==="audio/mpeg"||_.type==="audio/wav")?(d(_.name),r(_)):alert("Please upload an MP3 or WAV file under 10MB."))};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white/60 uppercase text-xs",children:"Upload Audio"}),i.jsxs("div",{ref:f,"data-disabled":(g==null?void 0:g.toLocaleLowerCase())=="pending"||a,className:J("border border-dashed rounded-lg p-3 text-center transition-colors cursor-pointer data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",v?"border-white/40":"border-white/10"),onDragOver:C,onDragLeave:$,onDrop:P,onClick:w,children:[i.jsx("input",{type:"file",ref:h,onChange:y,accept:".mp3,.wav",className:"hidden"}),i.jsxs(ye,{variant:"ghost",className:"text-white text-xs h-6 cursor-pointer",children:[i.jsx(As,{className:"h-3 w-3 mr-1"}),u||"Choose File"]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Supported formats: MP3, WAV (max 10MB)"})]})]}),i.jsxs("div",{className:"space-y-0.5 w-full",children:[i.jsx(se,{className:"text-white/60 uppercase text-xs",children:"Voice"}),i.jsxs(br,{open:l,onOpenChange:c,children:[i.jsx(yr,{asChild:!0,children:i.jsx(ye,{variant:"outline",role:"combobox","aria-expanded":l,className:"w-full justify-between bg-black/50 border-none text-white hover:bg-black/50 hover:text-white h-8 cursor-pointer",disabled:(g==null?void 0:g.toLocaleLowerCase())=="pending"||a,children:n.length===0?"Select Voice Models":`${n.length} selected`})}),i.jsx(wr,{className:"w-[var(--radix-popper-anchor-width)] p-0 bg-[#1a1a1a] border-white/10 z-[202]",children:i.jsxs(un,{className:"bg-transparent max-w-full text-secondary",children:[i.jsx(dn,{placeholder:"Search voice models...",className:"text-white w-full"}),i.jsxs(fn,{children:[i.jsx(hn,{children:"No voice model found."}),i.jsx(pn,{children:jl.map(N=>i.jsxs(mn,{onSelect:_=>{if(!u){c(!1),p("Please first choose a valid Audio file.");return}if(n.length==2&&!n.includes(_)){c(!1),p("You can only choose two models.");return}else{const T=n.includes(N.name)?n.filter(V=>V!==N.name):[...n,N.name];e(T),p("")}},className:"text-white cursor-pointer flex",children:[i.jsx(Qt,{className:J("mr-2 h-4 w-4",n.includes(N.name)?"opacity-100":"opacity-0")}),i.jsx("span",{className:"text-ellipsis whitespace-nowrap overflow-hidden",children:N.name})]},N.id))})]})]})})]}),b&&i.jsx("p",{className:"text-sm text-destructive/70 mt-1",children:b})]}),i.jsxs("div",{children:[i.jsx(se,{className:"text-white/60 uppercase text-xs",children:"Pitch"}),i.jsxs("div",{className:"flex items-center space-x-4 data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50","data-disabled":(g==null?void 0:g.toLocaleLowerCase())=="pending"||a,children:[i.jsx(ie,{value:[t],onValueChange:([N])=>o(N),min:-12,max:12,step:1,className:"flex-1"}),i.jsx("span",{className:"text-white min-w-[2ch] text-center",children:t})]})]})]})}const _l=s.memo(Tl);function he(n){const e=Math.floor(n/60),t=Math.floor(n%60);return`${e}:${t.toString().padStart(2,"0")}`}const Dl=({id:n,name:e,src:t})=>{var d,h,f,v;const[o,r]=s.useState(!1),[a,l]=s.useState(null),c=s.useRef(null),u=s.useRef(null);return i.jsxs("div",{className:"bg-black/50 rounded-lg p-3",children:[i.jsxs("div",{className:"w-full flex items-center justify-between overflow-hidden",children:[i.jsxs("div",{className:"w-full flex-shrink flex items-center space-x-3",children:[i.jsx(ye,{size:"icon",variant:"ghost",className:"flex-shrink-0 text-white h-8 w-8",onClick:()=>{var m,b,p;((m=c.current)==null?void 0:m.readyState)<2||(o?((b=c.current)==null||b.pause(),r(!1)):(p=c.current)==null||p.play())},children:o?i.jsx(Xn,{className:"h-4 w-4"}):i.jsx(Gn,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"text-white text-sm line-clamp-1",children:e.replace("Download Link","")}),i.jsxs("p",{className:"text-white/60 text-xs",children:[(d=c.current)!=null&&d.currentTime?he((h=c.current)==null?void 0:h.currentTime):"0.00"," / ",(f=c.current)!=null&&f.duration?he((v=c.current)==null?void 0:v.duration):"0.00"]})]})]}),i.jsx(ye,{size:"icon",variant:"ghost",className:"flex-grow text-white h-8 w-8",onClick:()=>{const m=document.createElement("a");m.href=t,m.download=e,m.click()},children:i.jsx(_s,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"px-3 mt-3 mb-2",children:i.jsx(ie,{ref:u,min:0,max:a==null?void 0:a.max,step:1,value:[(a==null?void 0:a.value)||0],onClick:()=>console.log("clicking"),onValueChange:([m])=>{c.current.currentTime=m}})}),i.jsx("audio",{ref:c,id:`resultantAudio${n}`,src:t||"/Bones.mp4",preload:"metadata",className:"hidden",onPlay:()=>{for(let p=0;p<5;p++)if(p!=n){const g=document.getElementById(`resultantAudio${p}`);g&&(g==null||g.pause())}const m=document.getElementById("footerAudioPlayer");m==null||m.pause();const b=document.getElementById("selectedAudio");b==null||b.pause(),r(!0)},onPause:()=>{r(!1)},onVolumeChange:()=>{console.log("volume")},onLoadedMetadata:m=>{l(b=>{var p;return{...b,max:Math.floor((p=m.target)==null?void 0:p.duration)}})},onTimeUpdate:m=>{l(b=>{var p;return{...b,value:Math.floor((p=m.target)==null?void 0:p.currentTime)}})}})]})},kl=s.memo(Dl),Il=()=>{const n=localStorage.getItem("astraToken"),{data:e}=Zn({queryKey:["queue-size"],queryFn:()=>ps({token:n}),refetchInterval:3e4});return i.jsx("div",{className:"mt-3 text-right",children:i.jsxs("p",{className:"text-white/60 text-xs",children:["Queue Size: ",(e==null?void 0:e.queue_size)||0]})})},Ml=s.memo(Il);function Al({isPending:n,setIsGenerating:e,isGenerating:t}){var d,h,f,v,m,b;const o=localStorage.getItem("job_id"),r=JSON.parse(localStorage.getItem("audioLinks")||"[]"),[a,l]=s.useState(null),c=localStorage.getItem("astraToken");s.useEffect(()=>{r&&l(r)},[]),console.log("isGenerating == 'pending': ",t=="pending"),console.log("Object.values(audioLinksLocal)?.length == 0: ",((d=Object.values(r))==null?void 0:d.length)==0),console.log("!!job_id: ",!!o),console.log("!!job_id && Object.values(audioLinksLocal)?.length == 0 && isGenerating == 'pending': ",!!o&&((h=Object.values(r))==null?void 0:h.length)==0&&t=="pending");const{data:u}=Zn({queryKey:["generatedAudiosData"],queryFn:()=>ms({token:c,job_id:o}),refetchInterval:3e4,enabled:!!o&&((f=Object.values(r))==null?void 0:f.length)==0&&t=="pending"});return s.useEffect(()=>{var p;if(u!=null&&u.error||(u==null?void 0:u.status)=="failed"||(p=u==null?void 0:u.result)!=null&&p.error){localStorage.setItem("isGenerating","failed"),e("failed");return}(u==null?void 0:u.status)=="done"&&(localStorage.setItem("isGenerating","done"),e("done")),(u==null?void 0:u.status)=="in-progress"&&(localStorage.setItem("isGenerating","pending"),e("pending")),u!=null&&u.result&&Object.keys(u==null?void 0:u.result).length>0&&(localStorage.setItem("audioLinks",JSON.stringify(u==null?void 0:u.result)),l(u==null?void 0:u.result))},[u]),i.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl p-4",children:[i.jsx("h2",{className:"text-white/60 uppercase text-xs mb-2",children:"Result"}),a&&((v=Object.values(a))==null?void 0:v.length)>0&&(t==null?void 0:t.toLocaleLowerCase())=="done"?i.jsx("div",{className:"grid grid-cols-2 gap-3",children:(b=(m=Object.values(a))==null?void 0:m.slice(0,4))==null?void 0:b.map((p,g)=>{var y;return i.jsx(kl,{id:g,name:(y=Object.keys(a))==null?void 0:y[g],src:p},g.toString())})}):i.jsx("div",{className:"w-full h-24 flex justify-center items-center",children:i.jsx("h3",{className:"text-white/60 uppercase text-xs mb-2 text-center",children:n||(t==null?void 0:t.toLocaleLowerCase())=="pending"?i.jsxs("span",{className:"flex items-center gap-2",children:["Generating ",i.jsx(Ps,{size:18,className:"animate-spin duration-150"})]}):"Nothing to Show. Please try generating something."})}),i.jsx(Ml,{})]})}const Ol=s.memo(Al),Ll={f0_method:"rmvpe",cover_background_vocals:"false",overall_pitch:-12,main_vocals_volume:0,backup_vocals_volume:0,inst_volume:0,index_rate:.5,filter_radius:3,rms_mix_rate:.25,protect_rate:.33};var Fl=[" ","Enter","ArrowUp","ArrowDown"],Bl=[" ","Enter"],Xe="Select",[mt,vt,Vl]=Un(Xe),[Le,qc]=Ue(Xe,[Vl,ut]),gt=ut(),[Wl,ge]=Le(Xe),[zl,Hl]=Le(Xe),Sr=n=>{const{__scopeSelect:e,children:t,open:o,defaultOpen:r,onOpenChange:a,value:l,defaultValue:c,onValueChange:u,dir:d,name:h,autoComplete:f,disabled:v,required:m,form:b}=n,p=gt(e),[g,y]=s.useState(null),[w,C]=s.useState(null),[$,P]=s.useState(!1),N=Ht(d),[_=!1,T]=De({prop:o,defaultProp:r,onChange:a}),[V,H]=De({prop:l,defaultProp:c,onChange:u}),O=s.useRef(null),U=g?b||!!g.closest("form"):!0,[X,Y]=s.useState(new Set),Q=Array.from(X).map(K=>K.props.value).join(";");return i.jsx(Kn,{...p,children:i.jsxs(Wl,{required:m,scope:e,trigger:g,onTriggerChange:y,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:$,onValueNodeHasChildrenChange:P,contentId:pe(),value:V,onValueChange:H,open:_,onOpenChange:T,dir:N,triggerPointerDownPosRef:O,disabled:v,children:[i.jsx(mt.Provider,{scope:e,children:i.jsx(zl,{scope:n.__scopeSelect,onNativeOptionAdd:s.useCallback(K=>{Y(G=>new Set(G).add(K))},[]),onNativeOptionRemove:s.useCallback(K=>{Y(G=>{const Z=new Set(G);return Z.delete(K),Z})},[]),children:t})}),U?i.jsxs(Kr,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:V,onChange:K=>H(K.target.value),disabled:v,form:b,children:[V===void 0?i.jsx("option",{value:""}):null,Array.from(X)]},Q):null]})})};Sr.displayName=Xe;var Er="SelectTrigger",Nr=s.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:o=!1,...r}=n,a=gt(t),l=ge(Er,t),c=l.disabled||o,u=te(e,l.onTriggerChange),d=vt(t),h=s.useRef("touch"),[f,v,m]=Yr(p=>{const g=d().filter(C=>!C.disabled),y=g.find(C=>C.value===l.value),w=qr(g,p,y);w!==void 0&&l.onValueChange(w.value)}),b=p=>{c||(l.onOpenChange(!0),m()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(Zt,{asChild:!0,...a,children:i.jsx(q.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ur(l.value)?"":void 0,...r,ref:u,onClick:z(r.onClick,p=>{p.currentTarget.focus(),h.current!=="mouse"&&b(p)}),onPointerDown:z(r.onPointerDown,p=>{h.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:z(r.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&v(p.key),!(g&&p.key===" ")&&Fl.includes(p.key)&&(b(),p.preventDefault())})})})});Nr.displayName=Er;var Pr="SelectValue",Rr=s.forwardRef((n,e)=>{const{__scopeSelect:t,className:o,style:r,children:a,placeholder:l="",...c}=n,u=ge(Pr,t),{onValueNodeHasChildrenChange:d}=u,h=a!==void 0,f=te(e,u.onValueNodeChange);return me(()=>{d(h)},[d,h]),i.jsx(q.span,{...c,ref:f,style:{pointerEvents:"none"},children:Ur(u.value)?i.jsx(i.Fragment,{children:l}):a})});Rr.displayName=Pr;var Ul="SelectIcon",$r=s.forwardRef((n,e)=>{const{__scopeSelect:t,children:o,...r}=n;return i.jsx(q.span,{"aria-hidden":!0,...r,ref:e,children:o||""})});$r.displayName=Ul;var Kl="SelectPortal",jr=n=>i.jsx(Ut,{asChild:!0,...n});jr.displayName=Kl;var Ee="SelectContent",Tr=s.forwardRef((n,e)=>{const t=ge(Ee,n.__scopeSelect),[o,r]=s.useState();if(me(()=>{r(new DocumentFragment)},[]),!t.open){const a=o;return a?lt.createPortal(i.jsx(_r,{scope:n.__scopeSelect,children:i.jsx(mt.Slot,{scope:n.__scopeSelect,children:i.jsx("div",{children:n.children})})}),a):null}return i.jsx(Dr,{...n,ref:e})});Tr.displayName=Ee;var ce=10,[_r,xe]=Le(Ee),Yl="SelectContentImpl",Dr=s.forwardRef((n,e)=>{const{__scopeSelect:t,position:o="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:v,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:g,...y}=n,w=ge(Ee,t),[C,$]=s.useState(null),[P,N]=s.useState(null),_=te(e,S=>$(S)),[T,V]=s.useState(null),[H,O]=s.useState(null),U=vt(t),[X,Y]=s.useState(!1),Q=s.useRef(!1);s.useEffect(()=>{if(C)return ct(C)},[C]),qt();const K=s.useCallback(S=>{const[B,...I]=U().map(W=>W.ref.current),[F]=I.slice(-1),A=document.activeElement;for(const W of S)if(W===A||(W==null||W.scrollIntoView({block:"nearest"}),W===B&&P&&(P.scrollTop=0),W===F&&P&&(P.scrollTop=P.scrollHeight),W==null||W.focus(),document.activeElement!==A))return},[U,P]),G=s.useCallback(()=>K([T,C]),[K,T,C]);s.useEffect(()=>{X&&G()},[X,G]);const{onOpenChange:Z,triggerPointerDownPosRef:j}=w;s.useEffect(()=>{if(C){let S={x:0,y:0};const B=F=>{var A,W;S={x:Math.abs(Math.round(F.pageX)-(((A=j.current)==null?void 0:A.x)??0)),y:Math.abs(Math.round(F.pageY)-(((W=j.current)==null?void 0:W.y)??0))}},I=F=>{S.x<=10&&S.y<=10?F.preventDefault():C.contains(F.target)||Z(!1),document.removeEventListener("pointermove",B),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",I,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",I,{capture:!0})}}},[C,Z,j]),s.useEffect(()=>{const S=()=>Z(!1);return window.addEventListener("blur",S),window.addEventListener("resize",S),()=>{window.removeEventListener("blur",S),window.removeEventListener("resize",S)}},[Z]);const[E,L]=Yr(S=>{const B=U().filter(A=>!A.disabled),I=B.find(A=>A.ref.current===document.activeElement),F=qr(B,S,I);F&&setTimeout(()=>F.ref.current.focus())}),x=s.useCallback((S,B,I)=>{const F=!Q.current&&!I;(w.value!==void 0&&w.value===B||F)&&(V(S),F&&(Q.current=!0))},[w.value]),D=s.useCallback(()=>C==null?void 0:C.focus(),[C]),M=s.useCallback((S,B,I)=>{const F=!Q.current&&!I;(w.value!==void 0&&w.value===B||F)&&O(S)},[w.value]),R=o==="popper"?Ft:kr,k=R===Ft?{side:c,sideOffset:u,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:v,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:g}:{};return i.jsx(_r,{scope:t,content:C,viewport:P,onViewportChange:N,itemRefCallback:x,selectedItem:T,onItemLeave:D,itemTextRefCallback:M,focusSelectedItem:G,selectedItemText:H,position:o,isPositioned:X,searchRef:E,children:i.jsx(Kt,{as:Yt,allowPinchZoom:!0,children:i.jsx(Xt,{asChild:!0,trapped:w.open,onMountAutoFocus:S=>{S.preventDefault()},onUnmountAutoFocus:z(r,S=>{var B;(B=w.trigger)==null||B.focus({preventScroll:!0}),S.preventDefault()}),children:i.jsx(Gt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:S=>S.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:i.jsx(R,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:S=>S.preventDefault(),...y,...k,onPlaced:()=>Y(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:z(y.onKeyDown,S=>{const B=S.ctrlKey||S.altKey||S.metaKey;if(S.key==="Tab"&&S.preventDefault(),!B&&S.key.length===1&&L(S.key),["ArrowUp","ArrowDown","Home","End"].includes(S.key)){let F=U().filter(A=>!A.disabled).map(A=>A.ref.current);if(["ArrowUp","End"].includes(S.key)&&(F=F.slice().reverse()),["ArrowUp","ArrowDown"].includes(S.key)){const A=S.target,W=F.indexOf(A);F=F.slice(W+1)}setTimeout(()=>K(F)),S.preventDefault()}})})})})})})});Dr.displayName=Yl;var ql="SelectItemAlignedPosition",kr=s.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:o,...r}=n,a=ge(Ee,t),l=xe(Ee,t),[c,u]=s.useState(null),[d,h]=s.useState(null),f=te(e,_=>h(_)),v=vt(t),m=s.useRef(!1),b=s.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:w}=l,C=s.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&d&&p&&g&&y){const _=a.trigger.getBoundingClientRect(),T=d.getBoundingClientRect(),V=a.valueNode.getBoundingClientRect(),H=y.getBoundingClientRect();if(a.dir!=="rtl"){const A=H.left-T.left,W=V.left-A,ee=_.left-W,ne=_.width+ee,de=Math.max(ne,T.width),Pe=window.innerWidth-ce,Fe=rt(W,[ce,Math.max(ce,Pe-de)]);c.style.minWidth=ne+"px",c.style.left=Fe+"px"}else{const A=T.right-H.right,W=window.innerWidth-V.right-A,ee=window.innerWidth-_.right-W,ne=_.width+ee,de=Math.max(ne,T.width),Pe=window.innerWidth-ce,Fe=rt(W,[ce,Math.max(ce,Pe-de)]);c.style.minWidth=ne+"px",c.style.right=Fe+"px"}const O=v(),U=window.innerHeight-ce*2,X=p.scrollHeight,Y=window.getComputedStyle(d),Q=parseInt(Y.borderTopWidth,10),K=parseInt(Y.paddingTop,10),G=parseInt(Y.borderBottomWidth,10),Z=parseInt(Y.paddingBottom,10),j=Q+K+X+Z+G,E=Math.min(g.offsetHeight*5,j),L=window.getComputedStyle(p),x=parseInt(L.paddingTop,10),D=parseInt(L.paddingBottom,10),M=_.top+_.height/2-ce,R=U-M,k=g.offsetHeight/2,S=g.offsetTop+k,B=Q+K+S,I=j-B;if(B<=M){const A=O.length>0&&g===O[O.length-1].ref.current;c.style.bottom="0px";const W=d.clientHeight-p.offsetTop-p.offsetHeight,ee=Math.max(R,k+(A?D:0)+W+G),ne=B+ee;c.style.height=ne+"px"}else{const A=O.length>0&&g===O[0].ref.current;c.style.top="0px";const ee=Math.max(M,Q+p.offsetTop+(A?x:0)+k)+I;c.style.height=ee+"px",p.scrollTop=B-M+p.offsetTop}c.style.margin=`${ce}px 0`,c.style.minHeight=E+"px",c.style.maxHeight=U+"px",o==null||o(),requestAnimationFrame(()=>m.current=!0)}},[v,a.trigger,a.valueNode,c,d,p,g,y,a.dir,o]);me(()=>C(),[C]);const[$,P]=s.useState();me(()=>{d&&P(window.getComputedStyle(d).zIndex)},[d]);const N=s.useCallback(_=>{_&&b.current===!0&&(C(),w==null||w(),b.current=!1)},[C,w]);return i.jsx(Gl,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:i.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:i.jsx(q.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});kr.displayName=ql;var Xl="SelectPopperPosition",Ft=s.forwardRef((n,e)=>{const{__scopeSelect:t,align:o="start",collisionPadding:r=ce,...a}=n,l=gt(t);return i.jsx(Yn,{...l,...a,ref:e,align:o,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ft.displayName=Xl;var[Gl,xn]=Le(Ee,{}),Bt="SelectViewport",Ir=s.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:o,...r}=n,a=xe(Bt,t),l=xn(Bt,t),c=te(e,a.onViewportChange),u=s.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(mt.Slot,{scope:t,children:i.jsx(q.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:z(r.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&f){const m=Math.abs(u.current-h.scrollTop);if(m>0){const b=window.innerHeight-ce*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(p,g);if(y<b){const w=y+m,C=Math.min(b,w),$=w-C;f.style.height=C+"px",f.style.bottom==="0px"&&(h.scrollTop=$>0?$:0,f.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});Ir.displayName=Bt;var Mr="SelectGroup",[Zl,Ql]=Le(Mr),Jl=s.forwardRef((n,e)=>{const{__scopeSelect:t,...o}=n,r=pe();return i.jsx(Zl,{scope:t,id:r,children:i.jsx(q.div,{role:"group","aria-labelledby":r,...o,ref:e})})});Jl.displayName=Mr;var Ar="SelectLabel",ec=s.forwardRef((n,e)=>{const{__scopeSelect:t,...o}=n,r=Ql(Ar,t);return i.jsx(q.div,{id:r.id,...o,ref:e})});ec.displayName=Ar;var at="SelectItem",[tc,Or]=Le(at),Lr=s.forwardRef((n,e)=>{const{__scopeSelect:t,value:o,disabled:r=!1,textValue:a,...l}=n,c=ge(at,t),u=xe(at,t),d=c.value===o,[h,f]=s.useState(a??""),[v,m]=s.useState(!1),b=te(e,w=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,w,o,r)}),p=pe(),g=s.useRef("touch"),y=()=>{r||(c.onValueChange(o),c.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(tc,{scope:t,value:o,disabled:r,textId:p,isSelected:d,onItemTextChange:s.useCallback(w=>{f(C=>C||((w==null?void 0:w.textContent)??"").trim())},[]),children:i.jsx(mt.ItemSlot,{scope:t,value:o,disabled:r,textValue:h,children:i.jsx(q.div,{role:"option","aria-labelledby":p,"data-highlighted":v?"":void 0,"aria-selected":d&&v,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...l,ref:b,onFocus:z(l.onFocus,()=>m(!0)),onBlur:z(l.onBlur,()=>m(!1)),onClick:z(l.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:z(l.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:z(l.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:z(l.onPointerMove,w=>{var C;g.current=w.pointerType,r?(C=u.onItemLeave)==null||C.call(u):g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:z(l.onPointerLeave,w=>{var C;w.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:z(l.onKeyDown,w=>{var $;(($=u.searchRef)==null?void 0:$.current)!==""&&w.key===" "||(Bl.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});Lr.displayName=at;var Ve="SelectItemText",Fr=s.forwardRef((n,e)=>{const{__scopeSelect:t,className:o,style:r,...a}=n,l=ge(Ve,t),c=xe(Ve,t),u=Or(Ve,t),d=Hl(Ve,t),[h,f]=s.useState(null),v=te(e,y=>f(y),u.onItemTextChange,y=>{var w;return(w=c.itemTextRefCallback)==null?void 0:w.call(c,y,u.value,u.disabled)}),m=h==null?void 0:h.textContent,b=s.useMemo(()=>i.jsx("option",{value:u.value,disabled:u.disabled,children:m},u.value),[u.disabled,u.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=d;return me(()=>(p(b),()=>g(b)),[p,g,b]),i.jsxs(i.Fragment,{children:[i.jsx(q.span,{id:u.textId,...a,ref:v}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?lt.createPortal(a.children,l.valueNode):null]})});Fr.displayName=Ve;var Br="SelectItemIndicator",Vr=s.forwardRef((n,e)=>{const{__scopeSelect:t,...o}=n;return Or(Br,t).isSelected?i.jsx(q.span,{"aria-hidden":!0,...o,ref:e}):null});Vr.displayName=Br;var Vt="SelectScrollUpButton",Wr=s.forwardRef((n,e)=>{const t=xe(Vt,n.__scopeSelect),o=xn(Vt,n.__scopeSelect),[r,a]=s.useState(!1),l=te(e,o.onScrollButtonChange);return me(()=>{if(t.viewport&&t.isPositioned){let c=function(){const d=u.scrollTop>0;a(d)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?i.jsx(Hr,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});Wr.displayName=Vt;var Wt="SelectScrollDownButton",zr=s.forwardRef((n,e)=>{const t=xe(Wt,n.__scopeSelect),o=xn(Wt,n.__scopeSelect),[r,a]=s.useState(!1),l=te(e,o.onScrollButtonChange);return me(()=>{if(t.viewport&&t.isPositioned){let c=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;a(h)};const u=t.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),r?i.jsx(Hr,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=t;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});zr.displayName=Wt;var Hr=s.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:o,...r}=n,a=xe("SelectScrollButton",t),l=s.useRef(null),c=vt(t),u=s.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return s.useEffect(()=>()=>u(),[u]),me(()=>{var h;const d=c().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),i.jsx(q.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:z(r.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(o,50))}),onPointerMove:z(r.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),l.current===null&&(l.current=window.setInterval(o,50))}),onPointerLeave:z(r.onPointerLeave,()=>{u()})})}),nc="SelectSeparator",oc=s.forwardRef((n,e)=>{const{__scopeSelect:t,...o}=n;return i.jsx(q.div,{"aria-hidden":!0,...o,ref:e})});oc.displayName=nc;var zt="SelectArrow",rc=s.forwardRef((n,e)=>{const{__scopeSelect:t,...o}=n,r=gt(t),a=ge(zt,t),l=xe(zt,t);return a.open&&l.position==="popper"?i.jsx(qn,{...r,...o,ref:e}):null});rc.displayName=zt;function Ur(n){return n===""||n===void 0}var Kr=s.forwardRef((n,e)=>{const{value:t,...o}=n,r=s.useRef(null),a=te(e,r),l=Qn(t);return s.useEffect(()=>{const c=r.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==t&&h){const f=new Event("change",{bubbles:!0});h.call(c,t),c.dispatchEvent(f)}},[l,t]),i.jsx(vs,{asChild:!0,children:i.jsx("select",{...o,ref:a,defaultValue:t})})});Kr.displayName="BubbleSelect";function Yr(n){const e=gs(n),t=s.useRef(""),o=s.useRef(0),r=s.useCallback(l=>{const c=t.current+l;e(c),function u(d){t.current=d,window.clearTimeout(o.current),d!==""&&(o.current=window.setTimeout(()=>u(""),1e3))}(c)},[e]),a=s.useCallback(()=>{t.current="",window.clearTimeout(o.current)},[]);return s.useEffect(()=>()=>window.clearTimeout(o.current),[]),[t,r,a]}function qr(n,e,t){const r=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=sc(n,Math.max(a,0));r.length===1&&(l=l.filter(d=>d!==t));const u=l.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==t?u:void 0}function sc(n,e){return n.map((t,o)=>n[(e+o)%n.length])}var ac=Sr,ic=Nr,lc=Rr,cc=$r,uc=jr,dc=Tr,fc=Ir,hc=Lr,pc=Fr,mc=Vr,vc=Wr,gc=zr;function Ln({...n}){return i.jsx(ac,{"data-slot":"select",...n})}function Fn({...n}){return i.jsx(lc,{"data-slot":"select-value",...n})}function Bn({className:n,children:e,...t}){return i.jsxs(ic,{"data-slot":"select-trigger",className:J("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...t,children:[e,i.jsx(cc,{asChild:!0,children:i.jsx(Jn,{className:"size-4 opacity-50"})})]})}function Vn({className:n,children:e,position:t="popper",...o}){return i.jsx(uc,{children:i.jsxs(dc,{"data-slot":"select-content",className:J("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...o,children:[i.jsx(xc,{}),i.jsx(fc,{className:J("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),i.jsx(bc,{})]})})}function tt({className:n,children:e,...t}){return i.jsxs(hc,{"data-slot":"select-item",className:J("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(mc,{children:i.jsx(Qt,{className:"size-4"})})}),i.jsx(pc,{children:e})]})}function xc({className:n,...e}){return i.jsx(vc,{"data-slot":"select-scroll-up-button",className:J("flex cursor-default items-center justify-center py-1",n),...e,children:i.jsx(js,{className:"size-4"})})}function bc({className:n,...e}){return i.jsx(gc,{"data-slot":"select-scroll-down-button",className:J("flex cursor-default items-center justify-center py-1",n),...e,children:i.jsx(Jn,{className:"size-4"})})}function yc({open:n,onOpenChange:e,advanceSettings:t,updateAdvanceSetting:o}){return i.jsx(sl,{open:n,onOpenChange:e,children:i.jsxs(ll,{className:"bg-[#1A1A1A] border-white/10 text-white sm:max-w-4xl px-0 border-none outline-none z-[300]",children:[i.jsxs(cl,{children:[i.jsx(ul,{className:"text-xl font-bold text-center",children:"ADVANCED SETTINGS"}),i.jsx(dl,{className:"hidden",children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Doloremque, facilis. Dolor, omnis eveniet debitis earum, amet eum, provident consectetur magnam consequatur praesentium eos commodi repellendus fugit ducimus molestias similique sapiente?"})]}),i.jsx(xs,{className:"h-max px-7",children:i.jsxs("div",{className:"grid sm:grid-cols-2 gap-x-8 gap-y-4 items-start py-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Pitch Method:"}),i.jsxs(Ln,{defaultValue:t==null?void 0:t.f0_method,onValueChange:r=>o("f0_method",r),children:[i.jsx(Bn,{className:"bg-black border-white/10 h-8 text-sm text-white w-[160px]",children:i.jsx(Fn,{placeholder:"rmvpe"})}),i.jsxs(Vn,{className:"bg-black border-white/10 text-white z-[301]",children:[i.jsx(tt,{value:"rmvpe",className:"text-white text-sm",children:"rmvpe (default)"}),i.jsx(tt,{value:"mangio-crepe",className:"text-white text-sm",children:"mangio-crepe"})]})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"The method rmvpe ensures clarity in the vocals whereas mangio-crepe provides the output with smoother vocals."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Pitch for Background & Instrumental:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.overall_pitch],onValueChange:([r])=>o("overall_pitch",r),min:-12,max:12,step:1,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.overall_pitch})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Changing pitch can lead to alteration in quality."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Main Vocals Volume:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.main_vocals_volume],onValueChange:([r])=>o("main_vocals_volume",r),min:0,max:10,step:1,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.main_vocals_volume.toFixed(1)})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Control volume of the Main Vocals."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Background Vocals Volume:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.backup_vocals_volume],onValueChange:([r])=>o("backup_vocals_volume",r),min:0,max:10,step:1,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.backup_vocals_volume.toFixed(1)})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Control volume of the Background Vocals."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Instrumentals Volume:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.inst_volume],onValueChange:([r])=>o("inst_volume",r),min:0,max:10,step:1,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.inst_volume.toFixed(1)})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Control volume of the Instrumentals."})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Apply AI on Background Vocals:"}),i.jsxs(Ln,{value:t==null?void 0:t.cover_background_vocals,onValueChange:r=>o("cover_background_vocals",r),children:[i.jsx(Bn,{className:"bg-black border-white/10 h-8 text-sm text-white w-[150px]",children:i.jsx(Fn,{placeholder:"false"})}),i.jsxs(Vn,{className:"bg-black border-white/10 text-white z-[301]",children:[i.jsx(tt,{value:"false",className:"text-white text-sm",children:"False (default)"}),i.jsx(tt,{value:"true",className:"text-white text-sm",children:"True"})]})]}),i.jsx("p",{className:"text-xs text-gray-400",children:'Set to "True" if you want to apply AI Vocals on the Background Vocals otherwise set it to "False".'})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Index Rate:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.index_rate],onValueChange:([r])=>o("index_rate",r),min:0,max:1,step:.01,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.index_rate.toFixed(2)})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Control how much of AI voice's accent to keep in vocals."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Filter Radius:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.filter_radius],onValueChange:([r])=>o("filter_radius",r),min:1,max:5,step:1,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.filter_radius.toFixed(1)})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Reduce Breathiness"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"RMS Mix Rate:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.rms_mix_rate],onValueChange:([r])=>o("rms_mix_rate",r),min:0,max:1,step:.01,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.rms_mix_rate.toFixed(2)})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Control how much to mimic original vocal's loudness."})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(se,{className:"text-white text-sm",children:"Protect Rate:"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ie,{value:[t==null?void 0:t.protect_rate],onValueChange:([r])=>o("protect_rate",r),min:0,max:1,step:.01,className:"flex-1"}),i.jsx("span",{className:"text-sm min-w-[2ch]",children:t==null?void 0:t.protect_rate.toFixed(2)})]}),i.jsx("p",{className:"text-xs text-gray-400",children:"Protect voiceless consonants and breath sounds. Set to 0.5 to disable it."})]})]})]})})]})})}var wc={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Cc(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var o=(n.match(/[^0-9]*$/)||"").toString();return wc[o]?{value:e,unit:o}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Rt(n){var e=Cc(n);return"".concat(e.value).concat(e.unit)}var Sc=function(n,e,t){var o="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return o;var r=document.createElement("style");document.head.appendChild(r);var a=r.sheet,l=`
    @keyframes `.concat(o,` {
      `).concat(e,`
    }
  `);return a&&a.insertRule(l,0),o},it=function(){return it=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},it.apply(this,arguments)},Ec=function(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(n);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(t[o[r]]=n[o[r]]);return t},Nc=Sc("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function Pc(n){var e=n.loading,t=e===void 0?!0:e,o=n.color,r=o===void 0?"#000000":o,a=n.speedMultiplier,l=a===void 0?1:a,c=n.cssOverride,u=c===void 0?{}:c,d=n.size,h=d===void 0?15:d,f=n.margin,v=f===void 0?2:f,m=Ec(n,["loading","color","speedMultiplier","cssOverride","size","margin"]),b=it({display:"inherit"},u),p=function(g){return{display:"inline-block",backgroundColor:r,width:Rt(h),height:Rt(h),margin:Rt(v),borderRadius:"100%",animation:"".concat(Nc," ").concat(.7/l,"s ").concat(g%2?"0s":"".concat(.35/l,"s")," infinite linear"),animationFillMode:"both"}};return t?s.createElement("span",it({style:b},m),s.createElement("span",{style:p(1)}),s.createElement("span",{style:p(2)}),s.createElement("span",{style:p(3)})):null}function oe(n,e,t,o){return new(t||(t=Promise))(function(r,a){function l(d){try{u(o.next(d))}catch(h){a(h)}}function c(d){try{u(o.throw(d))}catch(h){a(h)}}function u(d){var h;d.done?r(d.value):(h=d.value,h instanceof t?h:new t(function(f){f(h)})).then(l,c)}u((o=o.apply(n,e||[])).next())})}class Ge{constructor(){this.listeners={}}on(e,t,o){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),o==null?void 0:o.once){const r=()=>{this.un(e,r),this.un(e,t)};return this.on(e,r),r}return()=>this.un(e,t)}un(e,t){var o;(o=this.listeners[e])===null||o===void 0||o.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(o=>o(...t))}}const nt={decode:function(n,e){return oe(this,void 0,void 0,function*(){const t=new AudioContext({sampleRate:e});return t.decodeAudioData(n).finally(()=>t.close())})},createBuffer:function(n,e){return typeof n[0]=="number"&&(n=[n]),function(t){const o=t[0];if(o.some(r=>r>1||r<-1)){const r=o.length;let a=0;for(let l=0;l<r;l++){const c=Math.abs(o[l]);c>a&&(a=c)}for(const l of t)for(let c=0;c<r;c++)l[c]/=a}}(n),{duration:e,length:n[0].length,sampleRate:n[0].length/e,numberOfChannels:n.length,getChannelData:t=>n==null?void 0:n[t],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Xr(n,e){const t=e.xmlns?document.createElementNS(e.xmlns,n):document.createElement(n);for(const[o,r]of Object.entries(e))if(o==="children")for(const[a,l]of Object.entries(e))typeof l=="string"?t.appendChild(document.createTextNode(l)):t.appendChild(Xr(a,l));else o==="style"?Object.assign(t.style,r):o==="textContent"?t.textContent=r:t.setAttribute(o,r.toString());return t}function Wn(n,e,t){const o=Xr(n,e||{});return t==null||t.appendChild(o),o}var Rc=Object.freeze({__proto__:null,createElement:Wn,default:Wn});const $c={fetchBlob:function(n,e,t){return oe(this,void 0,void 0,function*(){const o=yield fetch(n,t);if(o.status>=400)throw new Error(`Failed to fetch ${n}: ${o.status} (${o.statusText})`);return function(r,a){oe(this,void 0,void 0,function*(){if(!r.body||!r.headers)return;const l=r.body.getReader(),c=Number(r.headers.get("Content-Length"))||0;let u=0;const d=f=>oe(this,void 0,void 0,function*(){u+=(f==null?void 0:f.length)||0;const v=Math.round(u/c*100);a(v)}),h=()=>oe(this,void 0,void 0,function*(){let f;try{f=yield l.read()}catch{return}f.done||(d(f.value),yield h())});h()})}(o.clone(),e),o.blob()})}};class jc extends Ge{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onMediaEvent("canplay",()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)},{once:!0})}onMediaEvent(e,t,o){return this.media.addEventListener(e,t,o),()=>this.media.removeEventListener(e,t,o)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return this.media.canPlayType(e)!==""}setSrc(e,t){const o=this.getSrc();if(e&&o===e)return;this.revokeSrc();const r=t instanceof Blob&&(this.canPlayType(t.type)||!e)?URL.createObjectURL(t):e;o&&(this.media.src="");try{this.media.src=r}catch{this.media.src=e}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return oe(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=Math.max(0,Math.min(e,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,t){t!=null&&(this.media.preservesPitch=t),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}}class Me extends Ge{constructor(e,t){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=e;const o=this.parentFromOptionsContainer(e.container);this.parent=o;const[r,a]=this.initHtml();o.appendChild(r),this.container=r,this.scrollContainer=a.querySelector(".scroll"),this.wrapper=a.querySelector(".wrapper"),this.canvasWrapper=a.querySelector(".canvases"),this.progressWrapper=a.querySelector(".progress"),this.cursor=a.querySelector(".cursor"),t&&a.appendChild(t),this.initEvents()}parentFromOptionsContainer(e){let t;if(typeof e=="string"?t=document.querySelector(e):e instanceof HTMLElement&&(t=e),!t)throw new Error("Container not found");return t}initEvents(){const e=t=>{const o=this.wrapper.getBoundingClientRect(),r=t.clientX-o.left,a=t.clientY-o.top;return[r/o.width,a/o.height]};if(this.wrapper.addEventListener("click",t=>{const[o,r]=e(t);this.emit("click",o,r)}),this.wrapper.addEventListener("dblclick",t=>{const[o,r]=e(t);this.emit("dblclick",o,r)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:t,scrollWidth:o,clientWidth:r}=this.scrollContainer,a=t/o,l=(t+r)/o;this.emit("scroll",a,l,t,t+r)}),typeof ResizeObserver=="function"){const t=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{t().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=e,this.reRender())}initDrag(){this.subscriptions.push(function(e,t,o,r,a=3,l=0,c=100){if(!e)return()=>{};const u=matchMedia("(pointer: coarse)").matches;let d=()=>{};const h=f=>{if(f.button!==l)return;f.preventDefault(),f.stopPropagation();let v=f.clientX,m=f.clientY,b=!1;const p=Date.now(),g=P=>{if(P.preventDefault(),P.stopPropagation(),u&&Date.now()-p<c)return;const N=P.clientX,_=P.clientY,T=N-v,V=_-m;if(b||Math.abs(T)>a||Math.abs(V)>a){const H=e.getBoundingClientRect(),{left:O,top:U}=H;b||(o==null||o(v-O,m-U),b=!0),t(T,V,N-O,_-U),v=N,m=_}},y=P=>{if(b){const N=P.clientX,_=P.clientY,T=e.getBoundingClientRect(),{left:V,top:H}=T;r==null||r(N-V,_-H)}d()},w=P=>{P.relatedTarget&&P.relatedTarget!==document.documentElement||y(P)},C=P=>{b&&(P.stopPropagation(),P.preventDefault())},$=P=>{b&&P.preventDefault()};document.addEventListener("pointermove",g),document.addEventListener("pointerup",y),document.addEventListener("pointerout",w),document.addEventListener("pointercancel",w),document.addEventListener("touchmove",$,{passive:!1}),document.addEventListener("click",C,{capture:!0}),d=()=>{document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",y),document.removeEventListener("pointerout",w),document.removeEventListener("pointercancel",w),document.removeEventListener("touchmove",$),setTimeout(()=>{document.removeEventListener("click",C,{capture:!0})},10)}};return e.addEventListener("pointerdown",h),()=>{d(),e.removeEventListener("pointerdown",h)}}(this.wrapper,(e,t,o)=>{this.emit("drag",Math.max(0,Math.min(1,o/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))}))}getHeight(e,t){var o;const r=((o=this.audioData)===null||o===void 0?void 0:o.numberOfChannels)||1;if(e==null)return 128;if(!isNaN(Number(e)))return Number(e);if(e==="auto"){const a=this.parent.clientHeight||128;return t!=null&&t.every(l=>!l.overlay)?a/r:a}return 128}initHtml(){const e=document.createElement("div"),t=e.attachShadow({mode:"open"}),o=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return t.innerHTML=`
      <style${o?` nonce="${o}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,t]}setOptions(e){if(this.options.container!==e.container){const t=this.parentFromOptionsContainer(e.container);t.appendChild(this.container),this.parent=t}e.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:t}=this.scrollContainer,o=t*e;this.setScroll(o)}destroy(){var e,t;this.subscriptions.forEach(o=>o()),this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.unsubscribeOnScroll)===null||t===void 0||t.forEach(o=>o()),this.unsubscribeOnScroll=[]}createDelay(e=10){let t,o;const r=()=>{t&&clearTimeout(t),o&&o()};return this.timeouts.push(r),()=>new Promise((a,l)=>{r(),o=l,t=setTimeout(()=>{t=void 0,o=void 0,a()},e)})}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const t=document.createElement("canvas"),o=t.getContext("2d"),r=t.height*(window.devicePixelRatio||1),a=o.createLinearGradient(0,0,0,r),l=1/(e.length-1);return e.forEach((c,u)=>{const d=u*l;a.addColorStop(d,c)}),a}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(e,t,o,r){const a=e[0],l=e[1]||e[0],c=a.length,{width:u,height:d}=o.canvas,h=d/2,f=this.getPixelRatio(),v=t.barWidth?t.barWidth*f:1,m=t.barGap?t.barGap*f:t.barWidth?v/2:0,b=t.barRadius||0,p=u/(v+m)/c,g=b&&"roundRect"in o?"roundRect":"rect";o.beginPath();let y=0,w=0,C=0;for(let $=0;$<=c;$++){const P=Math.round($*p);if(P>y){const T=Math.round(w*h*r),V=T+Math.round(C*h*r)||1;let H=h-T;t.barAlign==="top"?H=0:t.barAlign==="bottom"&&(H=d-V),o[g](y*(v+m),H,v,V,b),y=P,w=0,C=0}const N=Math.abs(a[$]||0),_=Math.abs(l[$]||0);N>w&&(w=N),_>C&&(C=_)}o.fill(),o.closePath()}renderLineWaveform(e,t,o,r){const a=l=>{const c=e[l]||e[0],u=c.length,{height:d}=o.canvas,h=d/2,f=o.canvas.width/u;o.moveTo(0,h);let v=0,m=0;for(let b=0;b<=u;b++){const p=Math.round(b*f);if(p>v){const y=h+(Math.round(m*h*r)||1)*(l===0?-1:1);o.lineTo(v,y),v=p,m=0}const g=Math.abs(c[b]||0);g>m&&(m=g)}o.lineTo(v,h)};o.beginPath(),a(0),a(1),o.fill(),o.closePath()}renderWaveform(e,t,o){if(o.fillStyle=this.convertColorValues(t.waveColor),t.renderFunction)return void t.renderFunction(e,o);let r=t.barHeight||1;if(t.normalize){const a=Array.from(e[0]).reduce((l,c)=>Math.max(l,Math.abs(c)),0);r=a?1/a:1}t.barWidth||t.barGap||t.barAlign?this.renderBarWaveform(e,t,o,r):this.renderLineWaveform(e,t,o,r)}renderSingleCanvas(e,t,o,r,a,l,c){const u=this.getPixelRatio(),d=document.createElement("canvas");d.width=Math.round(o*u),d.height=Math.round(r*u),d.style.width=`${o}px`,d.style.height=`${r}px`,d.style.left=`${Math.round(a)}px`,l.appendChild(d);const h=d.getContext("2d");if(this.renderWaveform(e,t,h),d.width>0&&d.height>0){const f=d.cloneNode(),v=f.getContext("2d");v.drawImage(d,0,0),v.globalCompositeOperation="source-in",v.fillStyle=this.convertColorValues(t.progressColor),v.fillRect(0,0,d.width,d.height),c.appendChild(f)}}renderMultiCanvas(e,t,o,r,a,l){const c=this.getPixelRatio(),{clientWidth:u}=this.scrollContainer,d=o/c;let h=Math.min(Me.MAX_CANVAS_WIDTH,u,d),f={};if(h===0)return;if(t.barWidth||t.barGap){const g=t.barWidth||.5,y=g+(t.barGap||g/2);h%y!=0&&(h=Math.floor(h/y)*y)}const v=g=>{if(g<0||g>=m||f[g])return;f[g]=!0;const y=g*h,w=Math.min(d-y,h);if(w<=0)return;const C=e.map($=>{const P=Math.floor(y/d*$.length),N=Math.floor((y+w)/d*$.length);return $.slice(P,N)});this.renderSingleCanvas(C,t,w,r,y,a,l)},m=Math.ceil(d/h);if(!this.isScrollable){for(let g=0;g<m;g++)v(g);return}const b=this.scrollContainer.scrollLeft/d,p=Math.floor(b*m);if(v(p-1),v(p),v(p+1),m>1){const g=this.on("scroll",()=>{const{scrollLeft:y}=this.scrollContainer,w=Math.floor(y/d*m);Object.keys(f).length>Me.MAX_NODES&&(a.innerHTML="",l.innerHTML="",f={}),v(w-1),v(w),v(w+1)});this.unsubscribeOnScroll.push(g)}}renderChannel(e,t,o,r){var{overlay:a}=t,l=function(h,f){var v={};for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&f.indexOf(m)<0&&(v[m]=h[m]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function"){var b=0;for(m=Object.getOwnPropertySymbols(h);b<m.length;b++)f.indexOf(m[b])<0&&Object.prototype.propertyIsEnumerable.call(h,m[b])&&(v[m[b]]=h[m[b]])}return v}(t,["overlay"]);const c=document.createElement("div"),u=this.getHeight(l.height,l.splitChannels);c.style.height=`${u}px`,a&&r>0&&(c.style.marginTop=`-${u}px`),this.canvasWrapper.style.minHeight=`${u}px`,this.canvasWrapper.appendChild(c);const d=c.cloneNode();this.progressWrapper.appendChild(d),this.renderMultiCanvas(e,l,o,u,c,d)}render(e){return oe(this,void 0,void 0,function*(){var t;this.timeouts.forEach(u=>u()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const o=this.getPixelRatio(),r=this.scrollContainer.clientWidth,a=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=a>r;const l=this.options.fillParent&&!this.isScrollable,c=(l?r:a)*o;if(this.wrapper.style.width=l?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let u=0;u<e.numberOfChannels;u++){const d=Object.assign(Object.assign({},this.options),(t=this.options.splitChannels)===null||t===void 0?void 0:t[u]);this.renderChannel([e.getChannelData(u)],d,c,u)}else{const u=[e.getChannelData(0)];e.numberOfChannels>1&&u.push(e.getChannelData(1)),this.renderChannel(u,this.options,c,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(o=>o()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:t}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:o}=this.progressWrapper.getBoundingClientRect();let r=o-t;r*=2,r=r<0?Math.floor(r):Math.ceil(r),r/=2,this.scrollContainer.scrollLeft+=r}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,t=!1){const{scrollLeft:o,scrollWidth:r,clientWidth:a}=this.scrollContainer,l=e*r,c=o,u=o+a,d=a/2;if(this.isDragging)l+30>u?this.scrollContainer.scrollLeft+=30:l-30<c&&(this.scrollContainer.scrollLeft-=30);else{(l<c||l>u)&&(this.scrollContainer.scrollLeft=l-(this.options.autoCenter?d:0));const h=l-o-d;t&&this.options.autoCenter&&h>0&&(this.scrollContainer.scrollLeft+=Math.min(h,10))}{const h=this.scrollContainer.scrollLeft,f=h/r,v=(h+a)/r;this.emit("scroll",f,v,h,h+a)}}renderProgress(e,t){if(isNaN(e))return;const o=100*e;this.canvasWrapper.style.clipPath=`polygon(${o}% 0, 100% 0, 100% 100%, ${o}% 100%)`,this.progressWrapper.style.width=`${o}%`,this.cursor.style.left=`${o}%`,this.cursor.style.transform=`translateX(-${Math.round(o)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,t)}exportImage(e,t,o){return oe(this,void 0,void 0,function*(){const r=this.canvasWrapper.querySelectorAll("canvas");if(!r.length)throw new Error("No waveform data");if(o==="dataURL"){const a=Array.from(r).map(l=>l.toDataURL(e,t));return Promise.resolve(a)}return Promise.all(Array.from(r).map(a=>new Promise((l,c)=>{a.toBlob(u=>{u?l(u):c(new Error("Could not export image"))},e,t)})))})}}Me.MAX_CANVAS_WIDTH=8e3,Me.MAX_NODES=10;class Tc extends Ge{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}}class $t extends Ge{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return oe(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then(t=>{if(t.status>=400)throw new Error(`Failed to fetch ${e}: ${t.status} (${t.statusText})`);return t.arrayBuffer()}).then(t=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(t)).then(t=>{this.currentSrc===e&&(this.buffer=t,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var e;if(!this.paused)return;this.paused=!1,(e=this.bufferNode)===null||e===void 0||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let t=this.playedDuration*this._playbackRate;(t>=this.duration||t<0)&&(t=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,t),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return oe(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){var t,o;const r=e-this.currentTime;(t=this.bufferNode)===null||t===void 0||t.stop(this.audioContext.currentTime+r),(o=this.bufferNode)===null||o===void 0||o.addEventListener("ended",()=>{this.bufferNode=null,this.pause()},{once:!0})}setSinkId(e){return oe(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const t=!this.paused;t&&this._pause(),this.playedDuration=e/this._playbackRate,t&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,t;return(e=this._duration)!==null&&e!==void 0?e:((t=this.buffer)===null||t===void 0?void 0:t.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const t=this.buffer.numberOfChannels;for(let o=0;o<t;o++)e.push(this.buffer.getChannelData(o));return e}}const _c={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};class ze extends jc{static create(e){return new ze(e)}constructor(e){const t=e.media||(e.backend==="WebAudio"?new $t:void 0);super({media:t,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},_c,e),this.timer=new Tc;const o=t?void 0:this.getMediaElement();this.renderer=new Me(this.options,o),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const r=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:a,duration:l}=this.options;(r||a&&l)&&this.load(r,a,l).catch(()=>null)})}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e),this.stopAtPosition!=null&&this.isPlaying()&&e>=this.stopAtPosition&&this.pause()}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.updateProgress();this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("emptied",()=>{this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",()=>{var e;this.emit("error",(e=this.getMediaElement().error)!==null&&e!==void 0?e:new Error("Media error")),this.stopAtPosition=null}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,t)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,t))}),this.renderer.on("dblclick",(e,t)=>{this.emit("dblclick",e,t)}),this.renderer.on("scroll",(e,t,o,r)=>{const a=this.getDuration();this.emit("scroll",e*a,t*a,o,r)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",e=>{this.emit("dragstart",e)}),this.renderer.on("dragend",e=>{this.emit("dragend",e)}));{let e;this.subscriptions.push(this.renderer.on("drag",t=>{if(!this.options.interact)return;let o;this.renderer.renderProgress(t),clearTimeout(e),this.isPlaying()?o=0:this.options.dragToSeek===!0?o=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(o=this.options.dragToSeek.debounceTime),e=setTimeout(()=>{this.seekTo(t)},o),this.emit("interaction",t*this.getDuration()),this.emit("drag",t)}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach(t=>{this.registerPlugin(t)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),e.duration&&!e.peaks&&(this.decodedData=nt.createBuffer(this.exportPeaks(),e.duration)),e.peaks&&e.duration&&(this.decodedData=nt.createBuffer(e.peaks,e.duration)),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",()=>{this.plugins=this.plugins.filter(t=>t!==e)})),e}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const t=e/this.getDuration();this.renderer.setScrollPercentage(t)}getActivePlugins(){return this.plugins}loadAudio(e,t,o,r){return oe(this,void 0,void 0,function*(){var a;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!t&&!o){const c=this.options.fetchParams||{};window.AbortController&&!c.signal&&(this.abortController=new AbortController,c.signal=(a=this.abortController)===null||a===void 0?void 0:a.signal);const u=h=>this.emit("loading",h);t=yield $c.fetchBlob(e,u,c);const d=this.options.blobMimeType;d&&(t=new Blob([t],{type:d}))}this.setSrc(e,t);const l=yield new Promise(c=>{const u=r||this.getDuration();u?c(u):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>c(this.getDuration()),{once:!0}))});if(!e&&!t){const c=this.getMediaElement();c instanceof $t&&(c.duration=l)}if(o)this.decodedData=nt.createBuffer(o,l||0);else if(t){const c=yield t.arrayBuffer();this.decodedData=yield nt.decode(c,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(e,t,o){return oe(this,void 0,void 0,function*(){try{return yield this.loadAudio(e,void 0,t,o)}catch(r){throw this.emit("error",r),r}})}loadBlob(e,t,o){return oe(this,void 0,void 0,function*(){try{return yield this.loadAudio("",e,t,o)}catch(r){throw this.emit("error",r),r}})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:t=8e3,precision:o=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const r=Math.min(e,this.decodedData.numberOfChannels),a=[];for(let l=0;l<r;l++){const c=this.decodedData.getChannelData(l),u=[],d=c.length/t;for(let h=0;h<t;h++){const f=c.slice(Math.floor(h*d),Math.ceil((h+1)*d));let v=0;for(let m=0;m<f.length;m++){const b=f[m];Math.abs(b)>Math.abs(v)&&(v=b)}u.push(Math.round(v*o)/o)}a.push(u)}return a}getDuration(){let e=super.getDuration()||0;return e!==0&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){this.stopAtPosition=null,super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const t=this.getDuration()*e;this.setTime(t)}play(e,t){const o=Object.create(null,{play:{get:()=>super.play}});return oe(this,void 0,void 0,function*(){return e!=null&&this.setTime(e),t!=null&&(this.media instanceof $t?this.media.stopAt(t):this.stopAtPosition=t),o.play.call(this)})}playPause(){return oe(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return oe(this,arguments,void 0,function*(e="image/png",t=1,o="dataURL"){return this.renderer.exportImage(e,t,o)})}destroy(){var e;this.emit("destroy"),(e=this.abortController)===null||e===void 0||e.abort(),this.plugins.forEach(t=>t.destroy()),this.subscriptions.forEach(t=>t()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}}ze.BasePlugin=class extends Ge{constructor(n){super(),this.subscriptions=[],this.options=n}onInit(){}_init(n){this.wavesurfer=n,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(n=>n())}},ze.dom=Rc;const zn=["#1DB954","#FF6B6B","#4A90E2","#FFD93D","#9B59B6"];function Dc({selectedVoices:n,timeRange:e,audioBuffer:t,duration:o,tab:r,url:a,voiceSelections:l,setVoiceSelections:c,audioUrl:u}){var G,Z;const d=s.useRef(null),h=s.useRef(null),f=s.useRef(null),v=s.useRef(null),[m,b]=s.useState(null),[p,g]=s.useState(0),[y,w]=s.useState(0),[C,$]=s.useState(!1),[P,N]=s.useState(null),[_,T]=s.useState(!1),[V,H]=s.useState(null),O=s.useRef(null),U=s.useRef(null);s.useEffect(()=>{var j;(j=O.current)==null||j.pause(),T(!1),O.current&&(O.current.currentTime=0,H(E=>({...E,value:0})))},[u,r]),s.useEffect(()=>{c(j=>n.map((L,x)=>{const D=j.find(M=>M.voice===L);return{voice:L,range:D?D.range:e,color:zn[x%zn.length]}}))},[n,e]);const X=s.useCallback(()=>{var M;if(!t&&!a)return;const j=d.current;if(!j)return;const E=j.getContext("2d");if(!E)return;const L=window.devicePixelRatio||1,x=j.getBoundingClientRect();if(j.width=x.width*L,j.height=x.height*L,E.scale(L,L),t)E.fillStyle="#333333",E.font="10px Arial",[0,30,60,90,120,150,180].forEach(k=>{const S=k/o*x.width;E.fillText(he(k),S,10)}),l.forEach((k,S)=>{const B=k.range[0]/o*x.width,I=k.range[1]/o*x.width,F=20+S*20;if(E.fillStyle=`${k.color}33`,E.fillRect(B,0,I-B,x.height),E.fillStyle=k.color,E.font="12px Arial",E.fillText(k.voice,B+5,F),Y(E,B,k.color,"start"),Y(E,I,k.color,"end"),P&&(m==null?void 0:m.voice)===k.voice){const A=P.time/o*x.width,W=15,ee=he(P.time);E.fillStyle="rgba(0, 0, 0, 0.7)",E.fillRect(A-20,W-12,40,16),E.fillStyle="#ffffff",E.font="10px Arial",E.textAlign="center",E.fillText(ee,A,W)}});else if(a&&r=="youtube"){console.log("working"),E.fillStyle="#333333",E.font="10px Arial";const R=[],k=o/15;for(let S=0;S<o;S+=k)R.push(S);Array.isArray(R)&&R.forEach(S=>{const B=S/o*x.width;E.fillText(he(S),B,10)}),Array.isArray(l)&&l.forEach((S,B)=>{const I=S.range[0]/o*x.width,F=S.range[1]/o*x.width,A=20+B*20;if(E.fillStyle=`${S.color}33`,E.fillRect(I,0,F-I,x.height),E.fillStyle=S.color,E.font="12px Arial",E.fillText(S.voice,I+5,A),Y(E,I,S.color,"start"),Y(E,F,S.color,"end"),P&&(m==null?void 0:m.voice)===S.voice){const W=P.time/o*x.width,ee=15,ne=he(P.time);E.fillStyle="rgba(0, 0, 0, 0.7)",E.fillRect(W-20,ee-12,40,16),E.fillStyle="#ffffff",E.font="10px Arial",E.textAlign="center",E.fillText(ne,W,ee)}})}const D=((M=O.current)==null?void 0:M.currentTime)/o*x.width;E.strokeStyle="#FFFFFF",E.lineWidth=2,E.beginPath(),E.moveTo(D,0),E.lineTo(D,x.height),E.stroke()},[a,r,o,l,m,P,(G=O.current)==null?void 0:G.currentTime]),Y=(j,E,L,x)=>{j.fillStyle=L,j.beginPath(),j.moveTo(E,0),j.lineTo(E+10,15),j.lineTo(E-10,15),j.closePath(),j.fill(),j.strokeStyle=L,j.lineWidth=2,j.beginPath(),j.moveTo(E,0),j.lineTo(E,j.canvas.height),j.stroke()},Q=s.useCallback(j=>{if(!m)return;const E=d.current;if(!E)return;const L=E.getBoundingClientRect(),x=Math.max(0,Math.min(j.clientX-L.left,L.width)),D=x/L.width*o;N({time:D,x,handle:m.handle}),c(M=>M.map(R=>{if(R.voice===m.voice){const k=[...R.range];return m.handle==="start"?k[0]=Math.min(D,R.range[1]-.1):k[1]=Math.max(D,R.range[0]+.1),{...R,range:k}}return R})),X()},[m,o,X]),K=s.useCallback(()=>{b(null),N(null)},[]);return s.useEffect(()=>{const j=d.current;if(!j)return;const E=L=>{const x=j.getBoundingClientRect(),D=L.clientX-x.left,M=D/x.width*o;l.forEach(R=>{const k=R.range[0]/o*x.width,S=R.range[1]/o*x.width;Math.abs(D-k)<10?(b({voice:R.voice,handle:"start"}),N({time:M,x:D,handle:"start"})):Math.abs(D-S)<10&&(b({voice:R.voice,handle:"end"}),N({time:M,x:D,handle:"end"}))})};return j.addEventListener("mousedown",E),document.addEventListener("mousemove",Q),document.addEventListener("mouseup",K),()=>{j.removeEventListener("mousedown",E),document.removeEventListener("mousemove",Q),document.removeEventListener("mouseup",K)}},[o,l,Q,K]),s.useEffect(()=>{if(!d.current)return;const E=()=>X();return window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},[X]),s.useEffect(()=>{var j;return f.current&&u&&r=="audio"?($(!0),v.current=ze.create({container:f.current,cursorColor:"transparent",barWidth:6,height:"auto",width:"100%",barRadius:50}),(async()=>(await v.current.load(u),$(!1)))()):(j=v.current)==null||j.destroy(),()=>{var E;return(E=v.current)==null?void 0:E.destroy()}},[u,r]),X(),i.jsxs("div",{className:"bg-[#1a1a1a] rounded-xl p-4",children:[i.jsx("h2",{className:"text-white/60 uppercase text-xs mb-2",children:"DAW"}),i.jsxs("div",{className:"relative overflow-hidden",children:[r=="audio"?i.jsx("div",{ref:f,className:`w-full h-36 rounded-lg pointer-events-none top-1/2 -translate-y-1/2 left-0 absolute z-[8] overflow-hidden bg-[#292929] ${r=="audio"?"block":"hidden"}`}):i.jsx("div",{ref:h,className:`w-full h-36 rounded-lg pointer-events-none top-1/2 -translate-y-1/2 left-0 absolute z-[9] overflow-hidden bg-[#292929] ${r=="youtube"?"block":"hidden"}`}),r=="audio"&&C&&i.jsx("div",{className:"w-full h-36 rounded-lg pointer-events-none top-1/2 -translate-y-1/2 left-0 absolute z-[10] bg-transparent flex justify-center items-center",children:i.jsx(Pc,{})}),i.jsx("canvas",{ref:d,className:"w-full h-36 rounded-lg cursor-pointer relative z-[11]"}),i.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/80 text-white text-xs px-2 py-1 rounded z-[12]",children:[t||a?`${he(r=="youtube"?y:(Z=O.current)==null?void 0:Z.currentTime)} / ${he(o)}`:"0:00 / 0:00"," "]})]}),i.jsx("div",{children:(t&&r=="audio"||r=="youtube"&&a)&&i.jsxs(i.Fragment,{children:[i.jsx(ie,{ref:U,value:[r=="audio"?(V==null?void 0:V.value)||0:y||0],min:0,max:o,step:.1,onValueChange:([j])=>{O.current&&(O.current.currentTime=j),r=="youtube"?w(j):g(j)},className:"my-4"}),i.jsxs("div",{className:"flex justify-center items-center gap-5",children:[i.jsx("audio",{ref:O,src:u,id:"selectedAudio",controls:!0,className:"hidden",onPlay:()=>{for(let E=0;E<4;E++){const L=document.getElementById(`resultantAudio${E}`);L==null||L.pause()}const j=document.getElementById("footerAudioPlayer");j==null||j.pause(),T(!0)},onPause:()=>{console.log("hello"),T(!1)},onVolumeChange:()=>{console.log("volume")},onLoadedMetadata:j=>{var E;console.log("e.target?.duration: ",(E=j.target)==null?void 0:E.duration),H(L=>{var x;return{...L,max:Math.floor((x=j.target)==null?void 0:x.duration)}})},onTimeUpdate:j=>{H(E=>{var L;return{...E,value:Math.floor((L=j.target)==null?void 0:L.currentTime)}})}}),i.jsxs("div",{className:"relative cursor-pointer",onClick:()=>{O.current.currentTime-=10},children:[i.jsx(wn,{}),i.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.35em"},children:"10"})]}),i.jsx("div",{children:_?i.jsx(Xn,{size:28,onClick:()=>{var j;return(j=O.current)==null?void 0:j.pause()}}):i.jsx(Gn,{size:28,onClick:()=>{var j;return(j=O.current)==null?void 0:j.play()}})}),i.jsxs("div",{className:"relative cursor-pointer",onClick:()=>{O.current.currentTime+=10},children:[i.jsx(wn,{className:"rotate-y-180"}),i.jsx("span",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"0.35em"},children:"10"})]})]})]})})]})}const kc=s.memo(Dc),ot=n=>bs(n||"Something went wrong.",{style:{backgroundColor:"#333",border:"none",outline:"none",boxShadow:"none",color:"white",fontFamily:"sans-serif"},action:{label:"Close",onClick:()=>{}}}),Ic=()=>{const[n,e]=s.useState([]),[t,o]=s.useState([]),[r,a]=s.useState("audio"),[l,c]=s.useState(0),[u,d]=s.useState(0),[h,f]=s.useState(""),[v,m]=s.useState(""),[b,p]=s.useState(""),[g,y]=s.useState([0,0]),[w,C]=s.useState([0,0]),[$,P]=s.useState(null),[N,_]=s.useState(null),[T,V]=s.useState([]),[H,O]=s.useState(!1),[U,X]=s.useState(!1),[Y,Q]=s.useState(Ll),[K,G]=s.useState(0),[Z,j]=s.useState(0),E=ys(),[L,x]=s.useState(null),D=localStorage.getItem("isGenerating");s.useEffect(()=>{D&&x(D)},[]),s.useEffect(()=>{if(N){const I=new FileReader;I.onload=async F=>{var ne;const A=(ne=F.target)==null?void 0:ne.result,ee=await new(window.AudioContext||window.webkitAudioContext)().decodeAudioData(A);P(ee),G(ee.duration),y([0,ee.duration])},I.readAsArrayBuffer(N)}},[N]);const{mutate:M,isPending:R}=Rs({mutationKey:["generate audios",r?N:v],mutationFn:Es,onError:I=>{if(console.log("generateAudio error: ",I),localStorage.setItem("isGenerating","failed"),I.status==401)return ot("Please login to generate audio.");ot("Something went wrong. Please try again."),x("failed")},onSuccess:I=>{console.log("generateAudio success: ",I),localStorage.setItem("job_id",I.job_id),I.status=="queued"&&(localStorage.setItem("isGenerating","pending"),x("pending"));const F=E.getQueryData(["queue-size"]);(F==null?void 0:F.queue_size)>0&&ot("Please wait for the generation to complete until queue size becomes zero.")}}),k=(I,F)=>{X(!0),Q(A=>({...A,[I]:F}))},S=I=>{if(I)if(I.size<=10*1024*1024&&(I.type==="audio/mpeg"||I.type==="audio/wav")){_(I);const F=URL.createObjectURL(I);f(F)}else alert("Please upload an MP3 or WAV file under 10MB.")};s.useEffect(()=>{(async()=>{var I,F,A,W,ee,ne,de,Pe;if(v&&v.includes("https://www.youtube.com/watch?v=")){const Fe=v.split("watch?v=")[1],bn=await ws.get(`https://www.googleapis.com/youtube/v3/videos?id=${Fe}&part=contentDetails,snippet&key=AIzaSyBEt1oYb9Hv6GOGVqeJUdZpzhmWDYQnsGE`);console.log("videoDetails: ",(W=(A=(F=(I=bn.data)==null?void 0:I.items)==null?void 0:F[0])==null?void 0:A.contentDetails)==null?void 0:W.duration);const Ze=((Pe=(de=(ne=(ee=bn.data)==null?void 0:ee.items)==null?void 0:ne[0])==null?void 0:de.contentDetails)==null?void 0:Pe.duration).match(/PT(\d+M)?(\d+S)?/),Gr=Ze[1]?parseInt(Ze[1].slice(0,-1)):0,Zr=Ze[2]?parseInt(Ze[2].slice(0,-1)):0,xt=Gr*60+Zr;C([0,xt]),console.log("totalSeconds: ",xt),j(xt)}})()},[v]);function B(){var W;if(!localStorage.getItem("astraToken"))return ot("Please login to generate audio.");if((r==="audio"?!N:!v)||(L==null?void 0:L.toLocaleLowerCase())=="pending")return;const F=r=="audio"?U?(n==null?void 0:n.length)==0?"advanced-file":"multiple":(n==null?void 0:n.length)==0?"file":"multiple":U?"advanced":"regular";localStorage.removeItem("job_id"),localStorage.removeItem("audioLinks"),localStorage.setItem("isGenerating","pending"),x("pending");const A=new FormData;if(A.append("task_type",F),r=="youtube"&&A.append("video_url",v),r=="audio"&&A.append("file",N),U&&((W=Object.keys(Y))==null||W.forEach((ee,ne)=>{var de;A.append(ee,(de=Object.values(Y))==null?void 0:de[ne])})),T.length>0){if(A.append("voice_one",T[0].voice),A.append("pitch_one",r=="youtube"?u.toString():l.toString()),A.append("singer1_start",new Date(T[0].range[0]*1e3).toISOString().substring(11,19)),A.append("singer1_end",new Date(T[0].range[1]*1e3).toISOString().substring(11,19)),T.length==1)return;A.append("voice_two",T[1].voice),A.append("pitch_two",r=="youtube"?u.toString():l.toString()),A.append("singer2_start",new Date(T[1].range[0]*1e3).toISOString().substring(11,19)),A.append("singer2_end",new Date(T[1].range[1]*1e3).toISOString().substring(11,19))}else{const ee=r=="audio"?(n==null?void 0:n.length)==0?"Morgan Freeman RVC v2":n:(t==null?void 0:t.length)==0?"Morgan Freeman RVC v2":t;A.append("voice",ee.toString()),A.append("pitch",r=="youtube"?u.toString():l.toString())}M({token:localStorage.getItem("astraToken"),formData:A})}return i.jsxs("div",{className:"flex-1 container mx-auto px-4 pt-6 pb-20 max-w-[1200px]",children:[i.jsx("h1",{className:"text-3xl mb-5 text-center",children:"AI Cover"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 group-data-[sidebaropen=true]:lg:grid-cols-6 gap-4",children:[i.jsxs("div",{className:"lg:col-span-3 group-data-[sidebaropen=true]:lg:col-span-3 bg-[#1a1a1a] rounded-xl overflow-hidden flex items-start flex-col",children:[i.jsx("div",{className:"flex flex-grow justify-between w-full max-h-[420x] h-full",children:i.jsxs(zs,{defaultValue:r,onValueChange:I=>a(I),className:"w-full flex-grow group",children:[i.jsx("div",{className:"px-4 pt-4 flex-shrink-0",children:i.jsxs(Hs,{className:"w-full bg-transparent grid grid-cols-2 gap-2",children:[i.jsx(Cn,{value:"audio",className:"py-3 data-[state=active]:bg-[#292929] bg-transparent text-white border-0 data-[state=active]:text-white rounded-sm cursor-pointer",children:"Audio File"}),i.jsxs(Cn,{disabled:!0,value:"youtube",className:"py-3 data-[state=active]:bg-[#292929] bg-transparent text-white border-0 data-[state=active]:text-white rounded-sm cursor-pointer",children:["YouTube ",i.jsx("sup",{className:"sans tracking-wider",children:"Coming Soon"})]})]})}),i.jsxs("div",{className:"p-4 flex-grow flex items-center flex-col justify-between",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("div",{"data-selectedtabaicover":r,className:"data-[selectedtabaicover=youtube]:block data-[selectedtabaicover=audio]:hidden m-0",children:i.jsx($l,{url:v,setUrl:m,selectedVoices:t,setSelectedVoices:o,pitch:u,setPitch:d,duration:Z})}),i.jsx("div",{"data-selectedtabaicover":r,className:"data-[selectedtabaicover=audio]:block data-[selectedtabaicover=youtube]:hidden m-0",children:i.jsx(_l,{selectedVoices:n,setSelectedVoices:e,pitch:l,setPitch:c,onFileUpload:S,isPending:R})})]}),i.jsxs("div",{className:"mt-3 w-full",children:[i.jsx(ye,{variant:"link",className:"text-white/60 p-0 h-auto text-xs uppercase hover:text-white cursor-pointer",onClick:()=>O(!0),disabled:(L==null?void 0:L.toLocaleLowerCase())=="pending"||R,children:"Advanced Settings"}),i.jsx("div",{className:"pt-2",children:i.jsxs(Cs,{children:[i.jsx(Ss,{asChild:!0,children:i.jsx(ye,{className:"w-full bg-black hover:bg-black/80 text-white cursor-pointer disabled:pointer-events-auto disabled:opacity-30",disabled:(r==="audio"?!N:!v)||(L==null?void 0:L.toLocaleLowerCase())=="pending"||R,onClick:()=>B(),children:R||(L==null?void 0:L.toLocaleLowerCase())=="pending"?"Generating":"Generate"})}),(L==null?void 0:L.toLowerCase())==="pending"?i.jsx(yn,{className:"bg-black text-white",children:"Please wait for the previous generation to complete"}):(r==="audio"?N:v)?null:i.jsx(yn,{className:"bg-black text-white",children:r==="audio"?"Please select an audio file":"Please enter a YouTube URL"})]})})]})]})]})}),i.jsx(yc,{open:H,onOpenChange:O,advanceSettings:Y,updateAdvanceSetting:k})]}),i.jsxs("div",{className:"lg:col-span-3 space-y-4",children:[i.jsx(kc,{selectedVoices:r=="youtube"?t:n,timeRange:r=="youtube"?w:g,voiceSelections:T,setVoiceSelections:V,duration:r=="youtube"?Z:K,audioUrl:h,tab:r,url:b,audioBuffer:$,audioFile:N}),i.jsx(Ol,{isPending:R,setIsGenerating:x,isGenerating:L})]})]})]})},Xc=s.memo(Ic);export{Xc as default};

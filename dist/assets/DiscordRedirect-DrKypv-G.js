import{r as s,d as c,j as i}from"./index-BzOi4iR6.js";import{D as n}from"./AxiosCalls-B2y5tiPU.js";import{u as d}from"./GetSearchParams-BaduQJ1m.js";import{s as u}from"./utils-DCjegGDd.js";import{u as f}from"./useQuery-hs2qIlxB.js";const l=()=>{const r=c(),e=d(),{data:o,isError:t}=f({queryKey:["send discord code to backend",e==null?void 0:e.code],queryFn:()=>n({code:e==null?void 0:e.code}),enabled:!!(e!=null&&e.code),retry:0,refetchOnWindowFocus:!1});return s.useEffect(()=>{o!=null&&o.access_token?(u(o==null?void 0:o.access_token),r("/",{replace:!0})):t&&r("/login?error=true",{replace:!0})},[o,t]),i.jsx("div",{})},y=s.memo(l);export{y as default};

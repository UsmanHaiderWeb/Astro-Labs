import{r as t,c,j as i}from"./index-enh1hG0b.js";import{D as n}from"./AxiosCalls-GSK0K1sH.js";import{u as d}from"./GetSearchParams-CxHnSzx6.js";import{s as u}from"./utils-DCjegGDd.js";import{u as l}from"./useQuery-IfkY0khb.js";const f=()=>{const r=c(),e=d();console.log("searchParams: ",e);const{data:o,isError:s}=l({queryKey:["send discord code to backend",e==null?void 0:e.code],queryFn:()=>n({code:e==null?void 0:e.code}),enabled:!!(e!=null&&e.code),retry:0,refetchOnWindowFocus:!1});return t.useEffect(()=>{console.log("data: ",o),o!=null&&o.access_token?(u(o==null?void 0:o.access_token),r("/",{replace:!0})):s&&r("/login?error=true",{replace:!0})},[o,s]),i.jsx("div",{})},x=t.memo(f);export{x as default};

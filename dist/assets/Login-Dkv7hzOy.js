const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/App-BL_tQ6p4.js","assets/index-BzOi4iR6.js","assets/index-e7heLPP6.css","assets/utils-DCjegGDd.js","assets/index-DfFVn-eK.js","assets/index-0To2b19b.js","assets/index-D2hWwYSQ.js","assets/scroll-area-C_w7lloL.js","assets/createLucideIcon-BPROxacb.js","assets/mail-frCIw68A.js","assets/button-D66mlokP.js","assets/useQuery-hs2qIlxB.js","assets/AxiosCalls-B2y5tiPU.js","assets/x-B8ZLBvS-.js","assets/index-C8O74V6s.js","assets/HomePage-COdQaJr0.js"])))=>i.map(i=>d[i]);
import{r as h,d as y,_ as x,j as e,L}from"./index-BzOi4iR6.js";import{B as u}from"./button-D66mlokP.js";import{L as p,I as g}from"./label-CG07u2iB.js";import{u as _,C as f,F as o,a as E,b as C,s as F,L as P}from"./FormFieldError-Ca7Y0CPZ.js";import{L as S}from"./AxiosCalls-B2y5tiPU.js";import{u as k,R,s as T}from"./ShowToast-z5mxILWC.js";import{s as A}from"./utils-DCjegGDd.js";import"./index-0To2b19b.js";import"./index-D2hWwYSQ.js";import"./createLucideIcon-BPROxacb.js";import"./index-C8O74V6s.js";function B(){var l,m;const j=y();h.useEffect(()=>{x(()=>import("./App-BL_tQ6p4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])),x(()=>import("./HomePage-COdQaJr0.js"),__vite__mapDeps([15,1,2,10,5,3]))},[]);const{control:n,formState:{errors:s},handleSubmit:v,setError:N}=_({defaultValues:{email:"",password:""},resolver:F(P)}),{mutate:b,isPending:r}=k({mutationKey:["Login"],mutationFn:S,onError:()=>{N("root",{message:"Email or password is invalid."}),T("Email or password is invalid.")},onSuccess:a=>{A(a.access_token),j("/",{replace:!0})}}),w=a=>{r||b(a)};return e.jsx("main",{className:"flex min-h-svh flex-col items-center justify-center gap-6 bg-background p-6 md:p-10",children:e.jsx("div",{className:"w-full max-w-[420px]",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("form",{onSubmit:v(w),children:e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 font-medium",children:[e.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-md",children:e.jsx("img",{src:"/logo.png",width:80,height:80,className:"size-20"})}),e.jsx("span",{className:"sr-only"})]}),e.jsx("h1",{className:"text-[18px] font-bold",children:"Welcome Back to Astra Labs"}),e.jsx("div",{className:"text-center text-sm",children:"Log in to your account"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(f,{control:n,name:"email",render:({field:a})=>e.jsx(g,{id:"email",type:"email",placeholder:"m@example.com",required:!0,disabled:r,value:a.value,onChange:t=>a.onChange(typeof t=="string"?t:t.target.value)})}),e.jsx(o,{message:(l=s==null?void 0:s.email)==null?void 0:l.message})]}),e.jsxs("div",{className:"grid gap-2 mb-0",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(f,{control:n,name:"password",render:({field:a})=>{var t,c,d;return e.jsxs(e.Fragment,{children:[e.jsx(g,{id:"password",type:"password",placeholder:"Enter password",required:!0,disabled:r,value:a.value,onChange:i=>a.onChange(typeof i=="string"?i:i.target.value)}),((t=s==null?void 0:s.password)==null?void 0:t.message)&&e.jsx(o,{message:((c=a.value)==null?void 0:c.length)==0?(d=s==null?void 0:s.password)==null?void 0:d.message:"Password is incorrect."})]})}})]}),e.jsx(o,{message:((m=s==null?void 0:s.root)==null?void 0:m.message)||" "}),r?e.jsxs(u,{type:"button",variant:"secondary",disabled:!0,className:"w-full cursor-pointer",children:["Logging ",e.jsx(R,{className:"animate-spin duration-300"})]}):e.jsx(u,{type:"submit",variant:"secondary",className:"w-full cursor-pointer",children:"Login"})]}),e.jsx("div",{className:"relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t after:border-border",children:e.jsx("span",{className:"relative z-10 px-2 text-muted-foreground bg-[#272322]",children:"OR"})}),e.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[e.jsx(E,{}),e.jsx(C,{})]})]})}),e.jsxs("div",{className:"text-center text-sm mt-6 mb-1",children:["Don't have an account?"," ",e.jsx(L,{to:"/sign-up",className:"underline underline-offset-4 ml-2 border-none outline-none",children:"Sign up"})]}),e.jsxs("div",{className:"max-w-sm mx-auto text-center text-xs text-muted-foreground [&_a]:underline [&_a]:underline-offset-4 hover:[&_a]:text-primary",children:["By clicking continue, you agree to our ",e.jsx("a",{href:"#",children:"Terms of Service"})," ","and ",e.jsx("a",{href:"#",children:"Privacy Policy"}),"."]})]})})})}const H=h.memo(B);export{H as default};
